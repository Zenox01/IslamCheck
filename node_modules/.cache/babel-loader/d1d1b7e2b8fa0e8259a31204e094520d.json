{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Hp\\\\Desktop\\\\IslamCheck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\Hp\\\\Desktop\\\\IslamCheck\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Hp\\\\Desktop\\\\IslamCheck\\\\src\\\\MainSearchBar.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport Bism from \"./img/herobis.png\";\nimport { FormattedMessage } from \"react-intl\";\nimport { Link } from \"react-router-dom\";\nimport { SurahContext, OffsetContext, CurrentPageContext, ChosenVerseFlagContext, ChosenVerseAndPageContext, QueryContext, CheckedContext, SearchFlagContext, LoadingContext, URLContext, LastPageContext, ResultPageContext, NoResultsContext } from \"./Store\";\nimport ReactHtmlParser from 'react-html-parser';\nimport SurahNames from \"./SurahNames\";\n\nfunction Main() {\n  const Surahs = SurahNames;\n\n  const _useState = useState(Surahs),\n        _useState2 = _slicedToArray(_useState, 2),\n        SurahSuggestions = _useState2[0],\n        setSurahSuggestions = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        suggestions2 = _useState4[0],\n        setSuggest2 = _useState4[1];\n\n  const _useContext = useContext(SurahContext),\n        _useContext2 = _slicedToArray(_useContext, 2),\n        Surah = _useContext2[0],\n        setSurahNo = _useContext2[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        Showflag = _useState6[0],\n        setShowflag = _useState6[1];\n\n  const _useContext3 = useContext(OffsetContext),\n        _useContext4 = _slicedToArray(_useContext3, 2),\n        off = _useContext4[0],\n        setOff = _useContext4[1];\n\n  const _useContext5 = useContext(CurrentPageContext),\n        _useContext6 = _slicedToArray(_useContext5, 2),\n        Currentpage = _useContext6[0],\n        setCurrentPage = _useContext6[1];\n\n  const _useContext7 = useContext(ChosenVerseFlagContext),\n        _useContext8 = _slicedToArray(_useContext7, 2),\n        isChosen = _useContext8[0],\n        setChosen = _useContext8[1];\n\n  const _useContext9 = useContext(ChosenVerseAndPageContext),\n        _useContext10 = _slicedToArray(_useContext9, 2),\n        OffsetandPage = _useContext10[0],\n        setPageandOffset = _useContext10[1];\n\n  const _useContext11 = useContext(CheckedContext),\n        _useContext12 = _slicedToArray(_useContext11, 2),\n        check = _useContext12[0],\n        setCheck = _useContext12[1];\n\n  const _useContext13 = useContext(SearchFlagContext),\n        _useContext14 = _slicedToArray(_useContext13, 2),\n        Qflag = _useContext14[0],\n        setQflag = _useContext14[1];\n\n  const _useContext15 = useContext(CurrentPageContext),\n        _useContext16 = _slicedToArray(_useContext15, 2),\n        pageNo = _useContext16[0],\n        setPage = _useContext16[1];\n\n  const _useContext17 = useContext(LastPageContext),\n        _useContext18 = _slicedToArray(_useContext17, 2),\n        Lastpage = _useContext18[0],\n        setLast = _useContext18[1];\n\n  const _useContext19 = useContext(LoadingContext),\n        _useContext20 = _slicedToArray(_useContext19, 2),\n        isLoading = _useContext20[0],\n        setLoading = _useContext20[1];\n\n  const _useContext21 = useContext(URLContext),\n        _useContext22 = _slicedToArray(_useContext21, 2),\n        URL = _useContext22[0],\n        setURL = _useContext22[1];\n\n  const _useContext23 = useContext(QueryContext),\n        _useContext24 = _slicedToArray(_useContext23, 2),\n        Query = _useContext24[0],\n        setQuery = _useContext24[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        Text = _useState8[0],\n        setText = _useState8[1];\n\n  const _useContext25 = useContext(ResultPageContext),\n        _useContext26 = _slicedToArray(_useContext25, 2),\n        ResultPage = _useContext26[0],\n        setResultPage = _useContext26[1];\n\n  const _useContext27 = useContext(NoResultsContext),\n        _useContext28 = _slicedToArray(_useContext27, 2),\n        NoResults = _useContext28[0],\n        setNoResultsFound = _useContext28[1];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      fetch(\" \".concat(URL, \"suggest?q=\").concat(Text)).then(res => res.json()).then(dat => setSuggest2(dat));\n    };\n\n    fetchData(); //return ()=> setText(\"\");\n  }, [Text]);\n\n  const onTextChange = e => {\n    let Temp = [];\n\n    if (e.target.value.length >= 0) {\n      var x = e.target.value;\n      setText(x);\n      const regex = new RegExp(\"^\".concat(x), 'i');\n      Temp = Surahs.sort().filter(x => regex.test(x));\n    }\n\n    if (e.target.value.length > 0) {\n      setSurahSuggestions(Temp);\n    }\n\n    setShowflag(true);\n  };\n\n  return React.createElement(\"main\", {\n    className: \"indexmain\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row d-flex justify-content-center mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"responsiveimg\",\n    src: Bism,\n    alt: \"logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"row d-flex justify-content-center mt-5 mb-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"searchbox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(FormattedMessage, {\n    id: \"placeholder\",\n    defaultMessage: \"search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, placeholder => React.createElement(\"input\", {\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    id: \"search\",\n    type: \"text\",\n    placeholder: placeholder,\n    onChange: onTextChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  })), React.createElement(Link, {\n    to: \"/search?q=\".concat(Text),\n    onClick: e => {\n      if (Text.length === 0) {\n        e.preventDefault();\n      }\n\n      setQuery(Text);\n      setResultPage(1);\n      setTimeout(function () {\n        setNoResultsFound(true);\n        setShowflag(false);\n      }, 3000);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"fa fa-search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })), Showflag && React.createElement(\"ul\", {\n    className: \"searchsuggestion_ul\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, Text.length > 0 && SurahSuggestions.map((item, ind) => React.createElement(\"li\", {\n    key: ind,\n    className: \"searchsuggestion_li\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\".concat(item.substring(item.indexOf(\"-\") + 1, item.length)),\n    onClick: () => {\n      setSurahNo(item.substring(item.indexOf(\"-\") + 1, item.length));\n      setLoading(true);\n      setPage(1);\n      setOff(1);\n      setLast(0);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, item))), suggestions2.map((item, ind) => React.createElement(\"li\", {\n    key: ind,\n    className: \"searchsuggestion_li\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\".concat(item.chapter_id),\n    onClick: () => {\n      setSurahNo(item.chapter_id);\n\n      if (item.translation_id != null) {\n        setCheck(_objectSpread({}, check, {\n          [item.translation_id]: true\n        }));\n      }\n\n      setCurrentPage(1 + Math.trunc(item.verse_number / 10));\n      setOff(item.verse_number % 10);\n      setChosen(true);\n      setLoading(true);\n      setShowflag(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, ReactHtmlParser(item.text.substring(0, 70)), \"...\", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"  (\", item.ayah, \")\"))))))), React.createElement(\"div\", {\n    className: \"row d-flex justify-content-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"quicklinks align-items-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"btn disabled\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(FormattedMessage, {\n    id: \"Quick\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  })), \"|\", React.createElement(\"li\", {\n    className: \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/36\",\n    onClick: () => setSurahNo(36),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(FormattedMessage, {\n    id: \"SurahYasin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }))), React.createElement(\"li\", {\n    className: \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/55\",\n    onClick: () => setSurahNo(55),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(FormattedMessage, {\n    id: \"SurahArRahman\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }))), React.createElement(\"li\", {\n    className: \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/67\",\n    onClick: () => setSurahNo(67),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(FormattedMessage, {\n    id: \"SurahAlMulk\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }))), React.createElement(\"li\", {\n    className: \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/18\",\n    onClick: () => {\n      setSurahNo(18);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(FormattedMessage, {\n    id: \"SurahAlKahf\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  })))))));\n}\n\nexport default Main;","map":{"version":3,"sources":["C:\\Users\\Hp\\Desktop\\IslamCheck\\src\\MainSearchBar.js"],"names":["React","useContext","useState","useEffect","Bism","FormattedMessage","Link","SurahContext","OffsetContext","CurrentPageContext","ChosenVerseFlagContext","ChosenVerseAndPageContext","QueryContext","CheckedContext","SearchFlagContext","LoadingContext","URLContext","LastPageContext","ResultPageContext","NoResultsContext","ReactHtmlParser","SurahNames","Main","Surahs","SurahSuggestions","setSurahSuggestions","suggestions2","setSuggest2","Surah","setSurahNo","Showflag","setShowflag","off","setOff","Currentpage","setCurrentPage","isChosen","setChosen","OffsetandPage","setPageandOffset","check","setCheck","Qflag","setQflag","pageNo","setPage","Lastpage","setLast","isLoading","setLoading","URL","setURL","Query","setQuery","Text","setText","ResultPage","setResultPage","NoResults","setNoResultsFound","fetchData","fetch","then","res","json","dat","onTextChange","e","Temp","target","value","length","x","regex","RegExp","sort","filter","test","placeholder","preventDefault","setTimeout","map","item","ind","substring","indexOf","chapter_id","translation_id","Math","trunc","verse_number","text","ayah"],"mappings":"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","sourcesContent":["import React,{useContext,useState,useEffect} from \"react\";\r\nimport Bism from \"./img/herobis.png\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {SurahContext,OffsetContext,CurrentPageContext,ChosenVerseFlagContext,ChosenVerseAndPageContext, QueryContext,\r\n  CheckedContext,SearchFlagContext,LoadingContext,URLContext,LastPageContext,ResultPageContext,\r\nNoResultsContext\r\n } from \"./Store\";\r\n import ReactHtmlParser from 'react-html-parser';\r\nimport SurahNames from \"./SurahNames\"\r\n\r\nfunction Main() {\r\n \r\nconst Surahs=SurahNames;\r\n\r\nconst [SurahSuggestions,setSurahSuggestions]= useState(Surahs);\r\n\r\nconst [suggestions2,setSuggest2] = useState([]);\r\n  const [Surah, setSurahNo]=useContext(SurahContext);\r\n  const [Showflag, setShowflag]=useState(false);\r\n  const [off, setOff] = useContext(OffsetContext);\r\n  const[Currentpage,setCurrentPage]=useContext(CurrentPageContext);\r\n  const [isChosen, setChosen] = useContext(ChosenVerseFlagContext);\r\n  const [OffsetandPage, setPageandOffset] = useContext(ChosenVerseAndPageContext);\r\n  const[check, setCheck]=useContext(CheckedContext);\r\n  const[Qflag,setQflag]=useContext(SearchFlagContext)\r\n  \r\n\r\nconst[pageNo,setPage]=useContext(CurrentPageContext);\r\nconst[Lastpage,setLast]=useContext(LastPageContext);\r\n\r\n\r\n\r\n  const [isLoading, setLoading] = useContext(LoadingContext);\r\n  const [URL, setURL] = useContext(URLContext);\r\n  const[Query,setQuery]=useContext(QueryContext)\r\n  const[Text,setText]=useState(\"\")\r\n\r\n  const [ResultPage,setResultPage]=useContext(ResultPageContext);\r\n  const [NoResults,setNoResultsFound]=useContext(NoResultsContext)\r\n\r\n  useEffect(() => {  \r\n    const fetchData = async() => {\r\n                                       fetch( ` ${URL}suggest?q=${Text}`)\r\n                                    .then(res =>res.json())\r\n                                    .then(dat=> setSuggest2(dat)); \r\n          \r\n          }\r\n     fetchData();\r\n     //return ()=> setText(\"\");\r\n\r\n    },[Text]);\r\n  \r\n const onTextChange =(e)=>{\r\n  let Temp=[];\r\n \r\n  \r\n  if(e.target.value.length >= 0){\r\n    \r\n    var x=e.target.value;\r\n    setText(x);\r\n     const regex =new RegExp(`^${x}`,'i')\r\n    \r\n    \r\n     Temp=Surahs.sort().filter((x)=>regex.test(x))\r\n\r\n  \r\n     \r\n  }\r\n  if(e.target.value.length > 0){\r\n  setSurahSuggestions(Temp);\r\n  }\r\n  setShowflag(true);\r\n} \r\n\r\n\r\n\r\n  return (\r\n    <main className=\"indexmain\">\r\n      <div className=\"container\">\r\n        <div className=\"row d-flex justify-content-center mt-5\">\r\n          <img className=\"responsiveimg\" src={Bism} alt=\"logo\" />\r\n        </div>\r\n \r\n        <div className=\"row d-flex justify-content-center mt-5 mb-2\">\r\n\r\n        <form className=\"searchbox\" > \r\n          <FormattedMessage id=\"placeholder\" defaultMessage=\"search\">\r\n{placeholder => <input autoComplete=\"off\" autoCorrect=\"off\" id='search' type=\"text\" placeholder={placeholder} onChange={onTextChange} />}\r\n</FormattedMessage>\r\n<Link to={`/search?q=${Text}`} onClick={(e)=>{if(Text.length===0){e.preventDefault()} setQuery(Text);setResultPage(1);  setTimeout(function () {\r\n                                        setNoResultsFound(true);setShowflag(false)\r\n                                        \r\n                                    }, 3000)}}>\r\n                                      <button type=\"submit\" className=\"fa fa-search\"></button></Link> \r\n\r\n\r\n{Showflag && \r\n<ul className=\"searchsuggestion_ul\">\r\n    {Text.length>0 &&\r\n      SurahSuggestions.map((item ,ind)=> \r\n    <li key={ind} className=\"searchsuggestion_li\">\r\n      <Link to={`/${item.substring(item.indexOf(\"-\")+1,item.length)}`} \r\n      onClick={()=>{\r\n      setSurahNo(item.substring(item.indexOf(\"-\")+1,item.length));\r\n      setLoading(true);\r\n      setPage(1)\r\n      setOff(1) \r\n      setLast(0) \r\n     \r\n    }}> \r\n    {item}\r\n      </Link>\r\n      \r\n    </li>\r\n     \r\n    )}\r\n\r\n    {suggestions2.map((item,ind)=>\r\n      <li key={ind} className=\"searchsuggestion_li\">\r\n       <Link to={`/${item.chapter_id}`}\r\n        onClick={()=>\r\n          {setSurahNo(item.chapter_id);\r\n            if(item.translation_id !=null){\r\n            setCheck({...check,[item.translation_id]:true})\r\n          }\r\n          setCurrentPage(1+(Math.trunc(item.verse_number/10)));\r\n          setOff(item.verse_number%10);\r\n          setChosen(true);\r\n          setLoading(true);\r\n          setShowflag(false);\r\n          \r\n          }}> \r\n        {ReactHtmlParser(item.text.substring(0,70))}...\r\n        <span>  ({item.ayah})</span>\r\n        </Link>\r\n      </li>\r\n    )}\r\n    </ul>}\r\n          </form>\r\n        </div>\r\n\r\n\r\n        <div className=\"row d-flex justify-content-center\">\r\n          <ul className=\"quicklinks align-items-center\">\r\n            <li className=\"btn disabled\"><FormattedMessage id=\"Quick\"/></li>|\r\n            <li className=\"btn\">\r\n              <Link to=\"/36\" onClick={()=>setSurahNo(36)}><FormattedMessage id=\"SurahYasin\"/></Link> \r\n              </li>\r\n            <li className=\"btn\">\r\n            <Link to=\"/55\"  onClick={()=>setSurahNo(55)}><FormattedMessage id=\"SurahArRahman\"/></Link> \r\n            </li>\r\n            <li className=\"btn\">\r\n            <Link to=\"/67\" onClick={()=>setSurahNo(67)} ><FormattedMessage id=\"SurahAlMulk\"/></Link> \r\n            </li>\r\n            <li className=\"btn\">\r\n      <Link to=\"/18\" onClick={()=>{setSurahNo(18); } } ><FormattedMessage id=\"SurahAlKahf\"/></Link> \r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}