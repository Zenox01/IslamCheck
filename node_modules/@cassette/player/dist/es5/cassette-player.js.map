{"version":3,"sources":["webpack://cassettePlayer/webpack/universalModuleDefinition","webpack://cassettePlayer/webpack/bootstrap","webpack://cassettePlayer/external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://cassettePlayer/external {\"root\":\"PropTypes\",\"commonjs\":\"prop-types\",\"commonjs2\":\"prop-types\",\"amd\":\"prop-types\"}","webpack://cassettePlayer/external {\"root\":\"cassetteCore\",\"commonjs\":\"@cassette/core\",\"commonjs2\":\"@cassette/core\",\"amd\":\"@cassette/core\"}","webpack://cassettePlayer/external {\"root\":\"cassetteComponents\",\"commonjs\":\"@cassette/components\",\"commonjs2\":\"@cassette/components\",\"amd\":\"@cassette/components\"}","webpack://cassettePlayer/./node_modules/material-design-icons/av/svg/design/ic_volume_off_48px.svg","webpack://cassettePlayer/./node_modules/material-design-icons/av/svg/design/ic_volume_mute_48px.svg","webpack://cassettePlayer/./node_modules/material-design-icons/av/svg/design/ic_volume_down_48px.svg","webpack://cassettePlayer/./node_modules/material-design-icons/av/svg/design/ic_volume_up_48px.svg","webpack://cassettePlayer/./node_modules/material-design-icons/av/svg/design/ic_repeat_48px.svg","webpack://cassettePlayer/./node_modules/material-design-icons/av/svg/design/ic_repeat_one_48px.svg","webpack://cassettePlayer/./node_modules/material-design-icons/av/svg/design/ic_shuffle_48px.svg","webpack://cassettePlayer/./node_modules/material-design-icons/navigation/svg/design/ic_fullscreen_48px.svg","webpack://cassettePlayer/./node_modules/material-design-icons/navigation/svg/design/ic_fullscreen_exit_48px.svg","webpack://cassettePlayer/./src/styles/index.scss?e313","webpack://cassettePlayer/./src/utils/classNames.js","webpack://cassettePlayer/./src/controls/common/ButtonWrapper.js","webpack://cassettePlayer/./src/controls/PlayPauseButton.js","webpack://cassettePlayer/./src/controls/common/SkipButton.js","webpack://cassettePlayer/./src/controls/BackSkipButton.js","webpack://cassettePlayer/./src/controls/ForwardSkipButton.js","webpack://cassettePlayer/./src/utils/getVolumeIconComponent.js","webpack://cassettePlayer/./src/utils/getVolumeBarDirectionFromPosition.js","webpack://cassettePlayer/./src/utils/reactStopPropagation.js","webpack://cassettePlayer/./src/controls/VolumeControl.js","webpack://cassettePlayer/./src/controls/MuteButton.js","webpack://cassettePlayer/./src/controls/RepeatButton.js","webpack://cassettePlayer/./src/controls/ShuffleButton.js","webpack://cassettePlayer/./src/controls/common/MediaStatusBar.js","webpack://cassettePlayer/./src/utils/convertToTime.js","webpack://cassettePlayer/./src/controls/MediaProgress.js","webpack://cassettePlayer/./src/controls/MediaProgressDisplay.js","webpack://cassettePlayer/./src/controls/FullscreenButton.js","webpack://cassettePlayer/./src/controls/Spacer.js","webpack://cassettePlayer/./src/utils/getControlRenderProp.js","webpack://cassettePlayer/./src/MediaPlayerControls.js","webpack://cassettePlayer/./src/MediaPlayer.js","webpack://cassettePlayer/./src/index.js"],"names":["classNames","args","map","reduceHash","filter","Boolean","join","obj","Object","keys","key","ButtonWrapper","ref","className","children","rest","propTypes","string","node","isRequired","render","props","paused","awaitingPlayResume","activeTrackIndex","onTogglePause","onSelectTrackIndex","trackIndex","isCurrent","playing","bool","number","func","back","onClick","onBackSkip","onForwardSkip","getVolumeIconComponent","volume","muted","getVolumeBarDirectionFromPosition","volumeBarPosition","stopPropagation","e","nativeEvent","stopImmediatePropagation","volumeControlStyle","touchAction","volumeBarContainerHiddenStyle","opacity","getDerivedStateFromProps","state","hover","volumeBarFocused","setVolumeInProgress","volumeControlRef","muteToggleRef","volumeBarContainerRef","setVolumeControlRef","bind","setMuteToggleRef","setVolumeBarContainerRef","handleMouseEnter","handleMouseLeave","handleVolumeBarFocus","handleVolumeBarBlur","handleMuteToggleTouchStart","componentDidMount","addEventListener","document","componentDidUpdate","volumeControlRect","getBoundingClientRect","top","volumeBarContainerHeight","offsetHeight","newPosition","viewportHeight","documentElement","clientHeight","bottom","setState","componentWillUnmount","removeEventListener","preventDefault","renderHandle","highlight","onSetVolume","onSetVolumeComplete","onToggleMuted","VolumeIcon","on","undefined","getNextRepeatStrategy","repeatStrategy","nextIndex","indexOf","length","handleNextRepeatStrategy","onSetRepeatStrategy","Icon","shuffle","onToggleShuffle","style","displayText","displayTime","object","convertToTime","hours","Math","floor","mins","secs","time","mediaStatusBarStyle","pointerEvents","playlist","currentTime","seekPreviewTime","seekInProgress","duration","getDisplayText","durationOverride","arrayOf","track","defaultProps","fullscreen","requestFullscreen","requestExitFullscreen","IconComponent","controlComponents","playpause","backskip","forwardskip","mute","repeat","progress","progressdisplay","spacer","Spacer","getRenderPropForControlKey","controlKey","component","playerContext","fullscreenContext","cache","getControlRenderProp","control","fn","nextControlKey","getNextControlKey","toString","getKeyedChildren","elements","controlKeys","Map","elementsRendered","element","type","nodeName","tag","keyIndex","get","set","keysForType","concat","cloneElement","controls","showVideo","renderVideoDisplay","renderControl","fullscreenEnabled"],"mappings":"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","file":"es5/cassette-player.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"), require(\"@cassette/core\"), require(\"@cassette/components\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\", \"@cassette/core\", \"@cassette/components\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cassettePlayer\"] = factory(require(\"react\"), require(\"prop-types\"), require(\"@cassette/core\"), require(\"@cassette/components\"));\n\telse\n\t\troot[\"cassettePlayer\"] = factory(root[\"React\"], root[\"PropTypes\"], root[\"cassetteCore\"], root[\"cassetteComponents\"]);\n})((typeof self !== \"undefined\" ? self : this), function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","var React = require('react');\n\nfunction RepeatIcon (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"d\":\"M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13c2.75-.63 5.26-1.89 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z\",\"key\":0}),React.createElement(\"path\",{\"d\":\"M0 0h48v48H0z\",\"fill\":\"none\",\"key\":1})]);\n}\n\nRepeatIcon.defaultProps = {\"width\":\"48\",\"height\":\"48\",\"viewBox\":\"0 0 48 48\"};\n\nmodule.exports = RepeatIcon;\n\nRepeatIcon.default = RepeatIcon;\n","var React = require('react');\n\nfunction RepeatIcon (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"d\":\"M14 18v12h8l10 10V8L22 18h-8z\",\"key\":0}),React.createElement(\"path\",{\"d\":\"M0 0h48v48H0z\",\"fill\":\"none\",\"key\":1})]);\n}\n\nRepeatIcon.defaultProps = {\"width\":\"48\",\"height\":\"48\",\"viewBox\":\"0 0 48 48\"};\n\nmodule.exports = RepeatIcon;\n\nRepeatIcon.default = RepeatIcon;\n","var React = require('react');\n\nfunction RepeatIcon (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"d\":\"M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z\",\"key\":0}),React.createElement(\"path\",{\"d\":\"M0 0h48v48H0z\",\"fill\":\"none\",\"key\":1})]);\n}\n\nRepeatIcon.defaultProps = {\"width\":\"48\",\"height\":\"48\",\"viewBox\":\"0 0 48 48\"};\n\nmodule.exports = RepeatIcon;\n\nRepeatIcon.default = RepeatIcon;\n","var React = require('react');\n\nfunction RepeatIcon (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"d\":\"M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z\",\"key\":0}),React.createElement(\"path\",{\"d\":\"M0 0h48v48H0z\",\"fill\":\"none\",\"key\":1})]);\n}\n\nRepeatIcon.defaultProps = {\"width\":\"48\",\"height\":\"48\",\"viewBox\":\"0 0 48 48\"};\n\nmodule.exports = RepeatIcon;\n\nRepeatIcon.default = RepeatIcon;\n","var React = require('react');\n\nfunction RepeatIcon (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"d\":\"M0 0h48v48H0z\",\"fill\":\"none\",\"key\":0}),React.createElement(\"path\",{\"d\":\"M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z\",\"key\":1})]);\n}\n\nRepeatIcon.defaultProps = {\"width\":\"48\",\"height\":\"48\",\"viewBox\":\"0 0 48 48\"};\n\nmodule.exports = RepeatIcon;\n\nRepeatIcon.default = RepeatIcon;\n","var React = require('react');\n\nfunction RepeatOneIcon (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"d\":\"M0 0h48v48H0z\",\"fill\":\"none\",\"key\":0}),React.createElement(\"path\",{\"d\":\"M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8zm-8-4V18h-2l-4 2v2h3v8h3z\",\"key\":1})]);\n}\n\nRepeatOneIcon.defaultProps = {\"width\":\"48\",\"height\":\"48\",\"viewBox\":\"0 0 48 48\"};\n\nmodule.exports = RepeatOneIcon;\n\nRepeatOneIcon.default = RepeatOneIcon;\n","var React = require('react');\n\nfunction ShuffleIcon (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"d\":\"M0 0h48v48H0z\",\"fill\":\"none\",\"key\":0}),React.createElement(\"path\",{\"d\":\"M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z\",\"key\":1})]);\n}\n\nShuffleIcon.defaultProps = {\"width\":\"48\",\"height\":\"48\",\"viewBox\":\"0 0 48 48\"};\n\nmodule.exports = ShuffleIcon;\n\nShuffleIcon.default = ShuffleIcon;\n","var React = require('react');\n\nfunction FullscreenIcon (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"d\":\"M0 0h48v48H0z\",\"fill\":\"none\",\"key\":0}),React.createElement(\"path\",{\"d\":\"M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z\",\"key\":1})]);\n}\n\nFullscreenIcon.defaultProps = {\"width\":\"48\",\"height\":\"48\",\"viewBox\":\"0 0 48 48\"};\n\nmodule.exports = FullscreenIcon;\n\nFullscreenIcon.default = FullscreenIcon;\n","var React = require('react');\n\nfunction FullscreenExitIcon (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"d\":\"M0 0h48v48H0z\",\"fill\":\"none\",\"key\":0}),React.createElement(\"path\",{\"d\":\"M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z\",\"key\":1})]);\n}\n\nFullscreenExitIcon.defaultProps = {\"width\":\"48\",\"height\":\"48\",\"viewBox\":\"0 0 48 48\"};\n\nmodule.exports = FullscreenExitIcon;\n\nFullscreenExitIcon.default = FullscreenExitIcon;\n","// extracted by mini-css-extract-plugin","// minimal replacement for https://github.com/JedWatson/classnames\n// inspired by https://github.com/FormidableLabs/react-live/blob/5ca26733f5a866d4af2b4782024113cbbe76f54a/src/utils/cn.js\nfunction classNames(...args) {\n  return args\n    .map(reduceHash)\n    .filter(Boolean)\n    .join(' ');\n}\n\nfunction reduceHash(obj) {\n  if (!obj || typeof obj !== 'object') {\n    return obj;\n  }\n  return Object.keys(obj)\n    .filter(key => obj[key])\n    .join(' ');\n}\n\nexport default classNames;\n","import React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport classNames from '../../utils/classNames';\n\nconst ButtonWrapper = forwardRef(({ className, children, ...rest }, ref) => {\n  return (\n    <div\n      ref={ref}\n      className={classNames('cassette__media_button_wrapper', className)}\n      {...rest}\n    >\n      {children}\n    </div>\n  );\n});\n\nButtonWrapper.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node.isRequired\n};\n\nexport default ButtonWrapper;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { playerContextFilter } from '@cassette/core';\n\nimport ButtonWrapper from './common/ButtonWrapper';\nimport classNames from '../utils/classNames';\n\n/**\n * A button which, when clicked, toggles whether the media is paused\n */\nexport class PlayPauseButton extends PureComponent {\n  render() {\n    const {\n      paused,\n      awaitingPlayResume,\n      activeTrackIndex,\n      onTogglePause,\n      onSelectTrackIndex,\n      trackIndex = activeTrackIndex\n    } = this.props;\n    const isCurrent = activeTrackIndex === trackIndex;\n    return (\n      <ButtonWrapper>\n        <button\n          type=\"button\"\n          className={classNames(\n            'cassette__play_pause_button cassette__media_button',\n            {\n              playing: isCurrent && (!paused || awaitingPlayResume)\n            }\n          )}\n          onClick={\n            isCurrent ? onTogglePause : () => onSelectTrackIndex(trackIndex)\n          }\n        >\n          <div className=\"foreground\">\n            <div className=\"left\" />\n            <div className=\"right\" />\n          </div>\n        </button>\n      </ButtonWrapper>\n    );\n  }\n}\n\nPlayPauseButton.propTypes = {\n  paused: PropTypes.bool.isRequired,\n  awaitingPlayResume: PropTypes.bool.isRequired,\n  activeTrackIndex: PropTypes.number.isRequired,\n  onTogglePause: PropTypes.func.isRequired,\n  onSelectTrackIndex: PropTypes.func.isRequired,\n  /**\n   * By default the button controls playback of whichever track is active,\n   * but this prop can be specified to make the button control playback of\n   * a specific track (for example in a playlist track selection view where\n   * each track as a play/pause button next to it)\n   */\n  trackIndex: PropTypes.number\n};\n\nexport default playerContextFilter(PlayPauseButton, [\n  'paused',\n  'awaitingPlayResume',\n  'activeTrackIndex',\n  'onTogglePause',\n  'onSelectTrackIndex'\n]);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ButtonWrapper from './ButtonWrapper';\nimport classNames from '../../utils/classNames';\n\nexport class SkipButton extends PureComponent {\n  render() {\n    const { back, onClick } = this.props;\n    return (\n      <ButtonWrapper>\n        <button\n          type=\"button\"\n          className={classNames(\n            'cassette__skip_button cassette__media_button',\n            {\n              back\n            }\n          )}\n          onClick={onClick}\n        >\n          <div className=\"skip_button_inner foreground\">\n            <div className=\"right_facing_triangle\" />\n            <div className=\"right_facing_triangle\" />\n            <div className=\"vertical_bar\" />\n          </div>\n        </button>\n      </ButtonWrapper>\n    );\n  }\n}\n\nSkipButton.propTypes = {\n  back: PropTypes.bool,\n  onClick: PropTypes.func.isRequired\n};\n\nexport default SkipButton;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { playerContextFilter } from '@cassette/core';\n\nimport SkipButton from './common/SkipButton';\n\n/**\n * A button which, when clicked, either skips to the previous track in the playlist or to the beginning of the current playing track, depending upon the current elapsed time\n */\nexport class BackSkipButton extends PureComponent {\n  render() {\n    return <SkipButton back onClick={this.props.onBackSkip} />;\n  }\n}\n\nBackSkipButton.propTypes = {\n  onBackSkip: PropTypes.func.isRequired\n};\n\nexport default playerContextFilter(BackSkipButton, ['onBackSkip']);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { playerContextFilter } from '@cassette/core';\n\nimport SkipButton from './common/SkipButton';\n\n/**\n * A button which, when clicked, skips to the next track in the playlist\n */\nexport class ForwardSkipButton extends PureComponent {\n  render() {\n    return <SkipButton onClick={this.props.onForwardSkip} />;\n  }\n}\n\nForwardSkipButton.propTypes = {\n  onForwardSkip: PropTypes.func.isRequired\n};\n\nexport default playerContextFilter(ForwardSkipButton, ['onForwardSkip']);\n","import VolumeOffIcon from 'svg-react-loader?name=RepeatIcon!material-design-icons/av/svg/design/ic_volume_off_48px.svg?';\nimport VolumeMuteIcon from 'svg-react-loader?name=RepeatIcon!material-design-icons/av/svg/design/ic_volume_mute_48px.svg?';\nimport VolumeDownIcon from 'svg-react-loader?name=RepeatIcon!material-design-icons/av/svg/design/ic_volume_down_48px.svg?';\nimport VolumeUpIcon from 'svg-react-loader?name=RepeatIcon!material-design-icons/av/svg/design/ic_volume_up_48px.svg?';\n\nfunction getVolumeIconComponent(volume, muted) {\n  if (muted) {\n    return VolumeOffIcon;\n  }\n  if (volume === 0) {\n    return VolumeMuteIcon;\n  }\n  if (volume <= 1 / 2) {\n    return VolumeDownIcon;\n  }\n  return VolumeUpIcon;\n}\n\nexport default getVolumeIconComponent;\n","function getVolumeBarDirectionFromPosition(volumeBarPosition) {\n  switch (volumeBarPosition) {\n    case 'rightabove':\n    case 'rightbelow':\n      return 'right';\n    case 'hiddenup':\n    case 'upabove':\n    default:\n      return 'up';\n  }\n}\n\nexport default getVolumeBarDirectionFromPosition;\n","function stopPropagation(e) {\n  e.stopPropagation();\n  e.nativeEvent.stopImmediatePropagation();\n}\n\nexport default stopPropagation;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { ProgressBar } from '@cassette/components';\nimport { playerContextFilter } from '@cassette/core';\n\nimport ButtonWrapper from './common/ButtonWrapper';\nimport getVolumeIconComponent from '../utils/getVolumeIconComponent';\nimport getVolumeBarDirectionFromPosition from '../utils/getVolumeBarDirectionFromPosition';\nimport stopPropagation from '../utils/reactStopPropagation';\nimport classNames from '../utils/classNames';\n\nconst volumeControlStyle = {\n  touchAction: 'none'\n};\n\nconst volumeBarContainerHiddenStyle = {\n  opacity: 0\n};\n\n/**\n * A [`MuteButton`](#mutebutton) which, when hovered (with a mouse) or initially tapped (on touch screens), displays a bar for adjusting media volume\n */\nexport class VolumeControl extends PureComponent {\n  static getDerivedStateFromProps(props, state) {\n    const { hover, volumeBarFocused, volumeBarPosition } = state;\n    if (\n      volumeBarPosition &&\n      !hover &&\n      !volumeBarFocused &&\n      !props.setVolumeInProgress\n    ) {\n      return {\n        volumeBarPosition: null\n      };\n    }\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hover: false,\n      volumeBarFocused: false,\n      // null | 'hiddenup' | 'hiddenright' | 'upabove' | 'rightabove' | 'rightbelow'\n      volumeBarPosition: null\n    };\n\n    this.volumeControlRef = null;\n    this.muteToggleRef = null;\n    this.volumeBarContainerRef = null;\n\n    // bind methods fired on React events\n    this.setVolumeControlRef = this.setVolumeControlRef.bind(this);\n    this.setMuteToggleRef = this.setMuteToggleRef.bind(this);\n    this.setVolumeBarContainerRef = this.setVolumeBarContainerRef.bind(this);\n    this.handleMouseEnter = this.handleMouseEnter.bind(this);\n    this.handleMouseLeave = this.handleMouseLeave.bind(this);\n    this.handleVolumeBarFocus = this.handleVolumeBarFocus.bind(this);\n    this.handleVolumeBarBlur = this.handleVolumeBarBlur.bind(this);\n\n    // bind listeners to add on mount and remove on unmount\n    this.handleMuteToggleTouchStart = this.handleMuteToggleTouchStart.bind(\n      this\n    );\n  }\n\n  componentDidMount() {\n    /* this should be a normal React listener but there seems to be a bug\n     * in React preventing that from working as expected:\n     * https://github.com/facebook/react/issues/9809\n     */\n    this.muteToggleRef.addEventListener(\n      'touchstart',\n      this.handleMuteToggleTouchStart\n    );\n    /* since touchstart bubbling from inside this component is canceled\n     * we need to manually trigger mouseleave for touch devices\n     */\n    document.addEventListener('touchstart', this.handleMouseLeave);\n  }\n\n  componentDidUpdate() {\n    /* if we've applied a hidden class to our volume bar, it's because\n     * we need to measure the element dimensions in order to figure out\n     * where and in which direction to position it. if there isn't enough\n     * vertical space above the control button, then we'll position the\n     * bar hidden and left-to-right to measure it again on the next\n     * componentDidUpdate. then if there's room we'll place it either\n     * above or below (there's no good way to vertically position the\n     * volume bar below the control button, so we skip that option).\n     * granted - it's certainly not ideal to need to check dom dimensions\n     * before placing an element, but a user could have applied unanticipated\n     * styles we won't know about unless we check.\n     */\n    const { volumeBarPosition } = this.state;\n    if (\n      volumeBarPosition === 'hiddenup' ||\n      volumeBarPosition === 'hiddenright'\n    ) {\n      const volumeControlRect = this.volumeControlRef.getBoundingClientRect();\n      const top = volumeControlRect.top;\n      const volumeBarContainerHeight = this.volumeBarContainerRef.offsetHeight;\n      let newPosition;\n      if (volumeBarPosition === 'hiddenup') {\n        newPosition =\n          volumeBarContainerHeight <= top ? 'upabove' : 'hiddenright';\n      } else {\n        if (volumeBarContainerHeight <= top) {\n          newPosition = 'rightabove';\n        } else {\n          const viewportHeight = document.documentElement.clientHeight;\n          const bottom = viewportHeight - volumeControlRect.bottom;\n          newPosition =\n            volumeBarContainerHeight <= bottom ? 'rightbelow' : null;\n        }\n      }\n      this.setState({\n        volumeBarPosition: newPosition\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.muteToggleRef.removeEventListener(\n      'touchstart',\n      this.handleMuteToggleTouchStart\n    );\n    document.removeEventListener('touchstart', this.handleMouseLeave);\n  }\n\n  setVolumeControlRef(ref) {\n    this.volumeControlRef = ref;\n  }\n\n  setMuteToggleRef(ref) {\n    this.muteToggleRef = ref;\n  }\n\n  setVolumeBarContainerRef(ref) {\n    this.volumeBarContainerRef = ref;\n  }\n\n  handleMouseEnter() {\n    this.setState(state => ({\n      hover: true,\n      volumeBarPosition: state.volumeBarPosition || 'hiddenup'\n    }));\n  }\n\n  handleMouseLeave() {\n    this.setState(state => ({\n      hover: false,\n      volumeBarPosition:\n        state.volumeBarFocused || this.props.setVolumeInProgress\n          ? state.volumeBarPosition\n          : null\n    }));\n  }\n\n  handleVolumeBarFocus() {\n    this.setState(state => ({\n      volumeBarFocused: true,\n      volumeBarPosition: state.volumeBarPosition || 'hiddenup'\n    }));\n  }\n\n  handleVolumeBarBlur() {\n    this.setState(state => ({\n      volumeBarFocused: false,\n      volumeBarPosition:\n        state.hover || this.props.setVolumeInProgress\n          ? state.volumeBarPosition\n          : null\n    }));\n  }\n\n  handleMuteToggleTouchStart(e) {\n    if (!this.state.hover && !this.state.volumeBarFocused) {\n      e.preventDefault();\n      this.handleMouseEnter();\n    }\n  }\n\n  renderHandle() {\n    return (\n      <div\n        className={classNames('handle', {\n          highlight: this.props.setVolumeInProgress\n        })}\n      >\n        <div />\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      volume,\n      muted,\n      onSetVolume,\n      onSetVolumeComplete,\n      onToggleMuted\n    } = this.props;\n    const { hover, volumeBarFocused, volumeBarPosition } = this.state;\n    const VolumeIcon = getVolumeIconComponent(volume, muted);\n    return (\n      <ButtonWrapper\n        ref={this.setVolumeControlRef}\n        className=\"cassette__volume_control\"\n        style={volumeControlStyle}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}\n        onTouchStart={stopPropagation}\n      >\n        <button\n          ref={this.setMuteToggleRef}\n          type=\"button\"\n          className={classNames(\n            'cassette__material_toggle cassette__media_button cassette__mute_btn',\n            {\n              highlight: hover || volumeBarFocused,\n              on: !muted\n            }\n          )}\n          onClick={onToggleMuted}\n        >\n          <div className=\"foreground inner\">\n            <VolumeIcon width=\"100%\" height=\"100%\" />\n          </div>\n        </button>\n        <div\n          style={volumeBarPosition ? undefined : volumeBarContainerHiddenStyle}\n          ref={this.setVolumeBarContainerRef}\n          className={classNames(\n            'cassette__volume_control__volume_bar_container',\n            volumeBarPosition\n          )}\n          onFocus={this.handleVolumeBarFocus}\n          onBlur={this.handleVolumeBarBlur}\n        >\n          <ProgressBar\n            className={classNames(\n              'cassette__volume_control__volume_bar',\n              volumeBarPosition\n            )}\n            progressClassName=\"volume\"\n            progress={muted ? 0 : volume}\n            progressDirection={getVolumeBarDirectionFromPosition(\n              volumeBarPosition\n            )}\n            handle={this.renderHandle()}\n            onAdjustProgress={onSetVolume}\n            onAdjustComplete={onSetVolumeComplete}\n          />\n        </div>\n      </ButtonWrapper>\n    );\n  }\n}\n\nVolumeControl.propTypes = {\n  volume: PropTypes.number.isRequired,\n  muted: PropTypes.bool.isRequired,\n  setVolumeInProgress: PropTypes.bool.isRequired,\n  onSetVolume: PropTypes.func.isRequired,\n  onSetVolumeComplete: PropTypes.func.isRequired,\n  onToggleMuted: PropTypes.func.isRequired\n};\n\nexport default playerContextFilter(VolumeControl, [\n  'volume',\n  'muted',\n  'setVolumeInProgress',\n  'onSetVolume',\n  'onSetVolumeComplete',\n  'onToggleMuted'\n]);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { playerContextFilter } from '@cassette/core';\n\nimport ButtonWrapper from './common/ButtonWrapper';\nimport getVolumeIconComponent from '../utils/getVolumeIconComponent';\nimport classNames from '../utils/classNames';\n\n/**\n * A button which, when clicked, toggles whether the media's audio is muted\n */\nexport class MuteButton extends PureComponent {\n  render() {\n    const { volume, muted, onToggleMuted } = this.props;\n    const VolumeIcon = getVolumeIconComponent(volume, muted);\n    return (\n      <ButtonWrapper>\n        <button\n          type=\"button\"\n          className={classNames(\n            'cassette__material_toggle cassette__media_button cassette__mute_btn',\n            { on: !muted }\n          )}\n          onClick={onToggleMuted}\n        >\n          <div className=\"foreground inner\">\n            <VolumeIcon width=\"100%\" height=\"100%\" />\n          </div>\n        </button>\n      </ButtonWrapper>\n    );\n  }\n}\n\nMuteButton.propTypes = {\n  volume: PropTypes.number.isRequired,\n  muted: PropTypes.bool.isRequired,\n  onToggleMuted: PropTypes.func.isRequired\n};\n\nexport default playerContextFilter(MuteButton, [\n  'volume',\n  'muted',\n  'onToggleMuted'\n]);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport RepeatIcon from 'svg-react-loader?name=RepeatIcon!material-design-icons/av/svg/design/ic_repeat_48px.svg?';\nimport RepeatOneIcon from 'svg-react-loader?name=RepeatOneIcon!material-design-icons/av/svg/design/ic_repeat_one_48px.svg?';\n\nimport {\n  playerContextFilter,\n  PlayerPropTypes,\n  repeatStrategyOptions\n} from '@cassette/core';\n\nimport ButtonWrapper from './common/ButtonWrapper';\nimport classNames from '../utils/classNames';\n\nfunction getNextRepeatStrategy(repeatStrategy) {\n  let nextIndex = repeatStrategyOptions.indexOf(repeatStrategy) + 1;\n  if (nextIndex >= repeatStrategyOptions.length) {\n    nextIndex = 0;\n  }\n  return repeatStrategyOptions[nextIndex];\n}\n\n/**\n * A button which, when clicked, cycles to the next `repeatStrategy` (`none`, `playlist` or `track`)\n */\nexport class RepeatButton extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    // bind methods fired on React events\n    this.handleNextRepeatStrategy = this.handleNextRepeatStrategy.bind(this);\n  }\n\n  handleNextRepeatStrategy() {\n    this.props.onSetRepeatStrategy(\n      getNextRepeatStrategy(this.props.repeatStrategy)\n    );\n  }\n\n  render() {\n    const { repeatStrategy } = this.props;\n    const Icon = repeatStrategy === 'track' ? RepeatOneIcon : RepeatIcon;\n    return (\n      <ButtonWrapper>\n        <button\n          type=\"button\"\n          className={classNames(\n            'cassette__material_toggle cassette__media_button cassette__repeat_btn',\n            { on: repeatStrategy !== 'none' }\n          )}\n          onClick={this.handleNextRepeatStrategy}\n        >\n          <div className=\"inner foreground\">\n            <Icon width=\"100%\" height=\"100%\" />\n          </div>\n        </button>\n      </ButtonWrapper>\n    );\n  }\n}\n\nRepeatButton.propTypes = {\n  repeatStrategy: PlayerPropTypes.repeatStrategy.isRequired,\n  onSetRepeatStrategy: PropTypes.func.isRequired\n};\n\nexport default playerContextFilter(RepeatButton, [\n  'repeatStrategy',\n  'onSetRepeatStrategy'\n]);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport ShuffleIcon from 'svg-react-loader?name=ShuffleIcon!material-design-icons/av/svg/design/ic_shuffle_48px.svg?';\n\nimport { playerContextFilter } from '@cassette/core';\n\nimport ButtonWrapper from './common/ButtonWrapper';\nimport classNames from '../utils/classNames';\n\n/**\n * A button which, when clicked, toggles whether the playlist is being played in specified order or in shuffle order\n */\nexport class ShuffleButton extends PureComponent {\n  render() {\n    const { shuffle, onToggleShuffle } = this.props;\n    return (\n      <ButtonWrapper>\n        <button\n          type=\"button\"\n          className={classNames(\n            'cassette__material_toggle cassette__media_button cassette__shuffle_btn',\n            { on: shuffle }\n          )}\n          onClick={onToggleShuffle}\n        >\n          <div className=\"inner foreground\">\n            <ShuffleIcon width=\"100%\" height=\"100%\" />\n          </div>\n        </button>\n      </ButtonWrapper>\n    );\n  }\n}\n\nShuffleButton.propTypes = {\n  shuffle: PropTypes.bool.isRequired,\n  onToggleShuffle: PropTypes.func.isRequired\n};\n\nexport default playerContextFilter(ShuffleButton, [\n  'shuffle',\n  'onToggleShuffle'\n]);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { MaybeMarquee } from '@cassette/components';\n\nexport class MediaStatusBar extends PureComponent {\n  render() {\n    const { style, displayText, displayTime } = this.props;\n    return (\n      <div className=\"cassette__media_status_bar\" style={style}>\n        <div className=\"cassette__media_info_marquee\">\n          <MaybeMarquee content={displayText} />\n        </div>\n        <div className=\"cassette__media_time_progress\">{displayTime}</div>\n      </div>\n    );\n  }\n}\n\nMediaStatusBar.propTypes = {\n  style: PropTypes.object,\n  displayText: PropTypes.string.isRequired,\n  displayTime: PropTypes.string.isRequired\n};\n\nexport default MediaStatusBar;\n","/* converts given number of seconds to standard time display format\n * http://goo.gl/kEvnKn\n */\nfunction convertToTime(number) {\n  const hours = Math.floor(number / (60 * 60));\n  const mins = Math.floor(number / 60) - hours * 60;\n  const secs = Math.floor(number % 60);\n  let time = hours > 0 ? `${hours}:` : '';\n  time += `${mins < 10 && hours > 0 ? '0' : ''}${mins}:`;\n  time += `${secs < 10 ? '0' : ''}${secs}`;\n  return time;\n}\n\nexport default convertToTime;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { MediaProgressBar } from '@cassette/components';\nimport {\n  playerContextFilter,\n  PlayerPropTypes,\n  getDisplayText\n} from '@cassette/core';\n\nimport MediaStatusBar from './common/MediaStatusBar';\nimport convertToTime from '../utils/convertToTime';\n\nconst mediaStatusBarStyle = {\n  pointerEvents: 'none'\n};\n\n/**\n * An interactive media progress bar which can be adjusted by dragging, along with a text overlay of the current track metadata and the elapsed time\n */\nexport class MediaProgress extends PureComponent {\n  render() {\n    const {\n      playlist,\n      activeTrackIndex,\n      currentTime,\n      seekPreviewTime,\n      seekInProgress,\n      duration,\n      getDisplayText,\n      durationOverride = duration\n    } = this.props;\n    const time = seekInProgress ? seekPreviewTime : currentTime;\n    return (\n      <div className=\"cassette__media_progress_container\">\n        <MediaProgressBar\n          className=\"cassette__media_progress_bar\"\n          progressClassName=\"progress\"\n          progressDirection=\"right\"\n        />\n        <MediaStatusBar\n          style={mediaStatusBarStyle}\n          displayText={getDisplayText(playlist[activeTrackIndex]) || ''}\n          displayTime={`${convertToTime(time)} / ${convertToTime(\n            durationOverride\n          )}`}\n        />\n      </div>\n    );\n  }\n}\n\nMediaProgress.propTypes = {\n  playlist: PropTypes.arrayOf(PlayerPropTypes.track.isRequired).isRequired,\n  activeTrackIndex: PropTypes.number.isRequired,\n  currentTime: PropTypes.number.isRequired,\n  seekPreviewTime: PropTypes.number.isRequired,\n  seekInProgress: PropTypes.bool.isRequired,\n  duration: PropTypes.number.isRequired,\n  /**\n   * The same as the `getDisplayText` prop for\n   * [`MediaProgressDisplay`](#mediaprogressdisplay)\n   */\n  getDisplayText: PropTypes.func.isRequired,\n  /**\n   * The same as the `durationOverride` prop for\n   * [`MediaProgressDisplay`](#mediaprogressdisplay)\n   */\n  durationOverride: PropTypes.number\n};\n\nMediaProgress.defaultProps = {\n  getDisplayText: getDisplayText\n};\n\nexport default playerContextFilter(MediaProgress, [\n  'playlist',\n  'activeTrackIndex',\n  'currentTime',\n  'seekPreviewTime',\n  'seekInProgress',\n  'duration'\n]);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { MediaProgressBarDisplay } from '@cassette/components';\nimport {\n  playerContextFilter,\n  PlayerPropTypes,\n  getDisplayText\n} from '@cassette/core';\n\nimport MediaStatusBar from './common/MediaStatusBar';\nimport convertToTime from '../utils/convertToTime';\n\n/**\n * A non-interactive version of [`MediaProgress`](#mediaprogress) which always uses the `currentTime` of the playing media (which may differ from the `seekPreviewTime` if your app also displays an interactive seek bar)\n */\nexport class MediaProgressDisplay extends PureComponent {\n  render() {\n    const {\n      playlist,\n      activeTrackIndex,\n      currentTime,\n      duration,\n      getDisplayText,\n      durationOverride = duration\n    } = this.props;\n    return (\n      <div className=\"cassette__media_progress_container\">\n        <MediaProgressBarDisplay\n          className=\"cassette__media_progress_bar\"\n          progressClassName=\"progress\"\n          progressDirection=\"right\"\n        />\n        <MediaStatusBar\n          displayText={getDisplayText(playlist[activeTrackIndex]) || ''}\n          displayTime={`${convertToTime(currentTime)} / ${convertToTime(\n            durationOverride\n          )}`}\n        />\n      </div>\n    );\n  }\n}\n\nMediaProgressDisplay.propTypes = {\n  playlist: PropTypes.arrayOf(PlayerPropTypes.track.isRequired).isRequired,\n  activeTrackIndex: PropTypes.number.isRequired,\n  currentTime: PropTypes.number.isRequired,\n  duration: PropTypes.number.isRequired,\n  /**\n   * Receives a [`track`](#track) object (or `undefined` if none is active)\n   * and returns a string of display text\n   **/\n  getDisplayText: PropTypes.func.isRequired,\n  /**\n   * Sometimes, for example in the case of some media live streams, the\n   * duration property from the media element may not match what we want\n   * to use in the UI for progress displays. `durationOverride` can be set\n   * if some external data on the media duration is available.\n   */\n  durationOverride: PropTypes.number\n};\n\nMediaProgressDisplay.defaultProps = {\n  getDisplayText: getDisplayText\n};\n\nexport default playerContextFilter(MediaProgressDisplay, [\n  'playlist',\n  'activeTrackIndex',\n  'currentTime',\n  'duration'\n]);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport FullscreenIcon from 'svg-react-loader?name=FullscreenIcon!material-design-icons/navigation/svg/design/ic_fullscreen_48px.svg?';\nimport FullscreenExitIcon from 'svg-react-loader?name=FullscreenExitIcon!material-design-icons/navigation/svg/design/ic_fullscreen_exit_48px.svg?';\n\nimport { playerContextFilter } from '@cassette/core';\n\nimport ButtonWrapper from './common/ButtonWrapper';\nimport classNames from '../utils/classNames';\n\n/**\n * A button which, when clicked, tells the surrounding [`FullscreenContextProvider`](#fullscreencontextprovider) (if present) to toggle fullscreen mode\n */\nexport class FullscreenButton extends PureComponent {\n  render() {\n    const { fullscreen, requestFullscreen, requestExitFullscreen } = this.props;\n    const IconComponent = fullscreen ? FullscreenExitIcon : FullscreenIcon;\n    return (\n      <ButtonWrapper>\n        <button\n          type=\"button\"\n          className={classNames(\n            'cassette__material_toggle cassette__media_button cassette__fullscreen_btn',\n            { on: fullscreen }\n          )}\n          onClick={fullscreen ? requestExitFullscreen : requestFullscreen}\n        >\n          <div className=\"inner foreground\">\n            <IconComponent width=\"100%\" height=\"100%\" />\n          </div>\n        </button>\n      </ButtonWrapper>\n    );\n  }\n}\n\nFullscreenButton.propTypes = {\n  fullscreen: PropTypes.bool.isRequired,\n  requestFullscreen: PropTypes.func.isRequired,\n  requestExitFullscreen: PropTypes.func.isRequired\n};\n\nexport default playerContextFilter(FullscreenButton, [\n  'fullscreen',\n  'requestFullscreen',\n  'requestExitFullscreen'\n]);\n","import React, { PureComponent } from 'react';\n\nimport ButtonWrapper from './common/ButtonWrapper';\n\n/**\n * Provides a buffer between control components\n */\nexport class Spacer extends PureComponent {\n  render() {\n    return (\n      <ButtonWrapper>\n        <div className=\"cassette__spacer\" />\n      </ButtonWrapper>\n    );\n  }\n}\n\nexport default Spacer;\n","import { createElement } from 'react';\n\nimport PlayPauseButton from '../controls/PlayPauseButton';\nimport BackSkipButton from '../controls/BackSkipButton';\nimport ForwardSkipButton from '../controls/ForwardSkipButton';\nimport VolumeControl from '../controls/VolumeControl';\nimport MuteButton from '../controls/MuteButton';\nimport RepeatButton from '../controls/RepeatButton';\nimport ShuffleButton from '../controls/ShuffleButton';\nimport MediaProgress from '../controls/MediaProgress';\nimport MediaProgressDisplay from '../controls/MediaProgressDisplay';\nimport FullscreenButton from '../controls/FullscreenButton';\nimport Spacer from '../controls/Spacer';\n\nconst controlComponents = {\n  playpause: PlayPauseButton,\n  backskip: BackSkipButton,\n  forwardskip: ForwardSkipButton,\n  volume: VolumeControl,\n  mute: MuteButton,\n  repeat: RepeatButton,\n  shuffle: ShuffleButton,\n  progress: MediaProgress,\n  progressdisplay: MediaProgressDisplay,\n  fullscreen: FullscreenButton,\n  spacer: Spacer\n};\n\nfunction getRenderPropForControlKey(controlKey) {\n  const component = controlComponents[controlKey];\n  if (!component) {\n    return null;\n  }\n  switch (controlKey) {\n    case 'progress':\n    case 'progressdisplay':\n      return (playerContext, fullscreenContext, { getDisplayText }) => {\n        return createElement(component, { getDisplayText });\n      };\n    default:\n      return () => createElement(component);\n  }\n}\n\nconst cache = {};\nfunction getControlRenderProp(control) {\n  if (typeof control === 'function') {\n    return control;\n  }\n  if (typeof control === 'string') {\n    if (cache[control]) {\n      return cache[control];\n    }\n    const fn = getRenderPropForControlKey(control);\n    cache[control] = fn;\n    return fn;\n  }\n  return null;\n}\n\nexport default getControlRenderProp;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  donotuse_PlayerContext as PlayerContext,\n  FullscreenContextConsumer,\n  PlayerPropTypes,\n  getDisplayText\n} from '@cassette/core';\nimport { VideoDisplay } from '@cassette/components';\n\nimport getControlRenderProp from './utils/getControlRenderProp';\n\nimport './styles/index.scss';\n\nlet nextControlKey = 0;\nfunction getNextControlKey() {\n  return (nextControlKey++).toString();\n}\n\n/**\n * The UI component of [`MediaPlayer`](#mediaplayer), which requires an ancestor [`PlayerContextProvider`](#playercontextprovider) (and optional ancestor [`FullscreenContextProvider`](#fullscreencontextprovider)) in order to work (use this if you need to access the [`playerContext`](#playercontext) or [`fullscreenContext`](#fullscreencontext) from outside the media player UI)\n */\nexport class MediaPlayerControls extends Component {\n  getKeyedChildren(elements) {\n    // cache of keys to use in controls render\n    // (to maintain state in case order changes)\n    this.controlKeys = this.controlKeys || new Map();\n\n    // counts of rendered elements by type\n    const elementsRendered = new Map();\n\n    return elements.map(element => {\n      if (!element) {\n        return element;\n      }\n\n      // support React | Preact | Inferno\n      const type = element.type || element.nodeName || element.tag || '';\n\n      // index within list of keys by type\n      const keyIndex = elementsRendered.get(type) || 0;\n      elementsRendered.set(type, keyIndex + 1);\n\n      const keysForType = this.controlKeys.get(type) || [];\n\n      let key;\n      if (keysForType[keyIndex]) {\n        key = keysForType[keyIndex];\n      } else {\n        key = getNextControlKey();\n        this.controlKeys.set(type, keysForType.concat(key));\n      }\n\n      return React.cloneElement(element, { key });\n    });\n  }\n\n  render() {\n    const {\n      getDisplayText,\n      controls,\n      showVideo,\n      renderVideoDisplay\n    } = this.props;\n\n    return (\n      <FullscreenContextConsumer>\n        {fullscreenContext => (\n          <PlayerContext.Consumer>\n            {playerContext => (\n              <div className=\"cassette\">\n                {showVideo &&\n                  renderVideoDisplay(playerContext, fullscreenContext)}\n                <div\n                  className=\"cassette__control_bar\"\n                  title={getDisplayText(\n                    playerContext.playlist[playerContext.activeTrackIndex]\n                  )}\n                >\n                  {this.getKeyedChildren(\n                    controls.map(control => {\n                      const renderControl = getControlRenderProp(control);\n                      return (\n                        renderControl &&\n                        renderControl(playerContext, fullscreenContext, {\n                          getDisplayText\n                        })\n                      );\n                    })\n                  )}\n                </div>\n              </div>\n            )}\n          </PlayerContext.Consumer>\n        )}\n      </FullscreenContextConsumer>\n    );\n  }\n}\n\nMediaPlayerControls.propTypes = {\n  /** An array of [`control`](#control) values (keyword or render prop) */\n  controls: PropTypes.arrayOf(PlayerPropTypes.control.isRequired).isRequired,\n  /**\n   * Receives a [`track`](#track) object (or `undefined` if none is active)\n   * and returns a string of display text\n   **/\n  getDisplayText: PropTypes.func.isRequired,\n  /** A boolean which must be set `true` to display video */\n  showVideo: PropTypes.bool.isRequired,\n  /**\n   * A function which returns a React element containing the\n   * [`VideoDisplay`](#videodisplay) instance\n   */\n  renderVideoDisplay: PropTypes.func.isRequired\n};\n\nMediaPlayerControls.defaultProps = {\n  controls: [\n    'spacer',\n    'backskip',\n    'playpause',\n    'forwardskip',\n    'spacer',\n    'progress'\n  ],\n  getDisplayText: getDisplayText,\n  showVideo: false,\n  // eslint-disable-next-line no-unused-vars\n  renderVideoDisplay(playerContext, fullscreenContext) {\n    return (\n      <VideoDisplay\n        className=\"cassette__video_display_container\"\n        onClick={playerContext.onTogglePause}\n      />\n    );\n  }\n};\n\nexport default MediaPlayerControls;\n","import React, { Component } from 'react';\n\nimport {\n  PlayerContextProvider,\n  FullscreenContextProvider\n} from '@cassette/core';\n\nimport MediaPlayerControls from './MediaPlayerControls';\n\n/**\n * A media player component which plays a provided playlist of media\n */\nexport class MediaPlayer extends Component {\n  render() {\n    const {\n      getDisplayText,\n      controls,\n      showVideo,\n      renderVideoDisplay,\n      fullscreenEnabled,\n      ...rest\n    } = this.props;\n    return (\n      <FullscreenContextProvider fullscreenEnabled={fullscreenEnabled}>\n        <PlayerContextProvider {...rest}>\n          <MediaPlayerControls\n            getDisplayText={getDisplayText}\n            controls={controls}\n            showVideo={showVideo}\n            renderVideoDisplay={renderVideoDisplay}\n          />\n        </PlayerContextProvider>\n      </FullscreenContextProvider>\n    );\n  }\n}\n\nMediaPlayer.propTypes = {\n  ...PlayerContextProvider.propTypes,\n  ...MediaPlayerControls.propTypes,\n  ...FullscreenContextProvider.propTypes\n};\ndelete MediaPlayer.propTypes.children;\n\nMediaPlayer.defaultProps = {\n  ...PlayerContextProvider.defaultProps,\n  ...MediaPlayerControls.defaultProps,\n  ...FullscreenContextProvider.defaultProps\n};\ndelete MediaPlayer.defaultProps.children;\n\nexport default MediaPlayer;\n","import MediaPlayer from './MediaPlayer';\nimport MediaPlayerControls from './MediaPlayerControls';\nimport PlayPauseButton from './controls/PlayPauseButton';\nimport BackSkipButton from './controls/BackSkipButton';\nimport ForwardSkipButton from './controls/ForwardSkipButton';\nimport VolumeControl from './controls/VolumeControl';\nimport MuteButton from './controls/MuteButton';\nimport RepeatButton from './controls/RepeatButton';\nimport ShuffleButton from './controls/ShuffleButton';\nimport FullscreenButton from './controls/FullscreenButton';\nimport MediaProgress from './controls/MediaProgress';\nimport MediaProgressDisplay from './controls/MediaProgressDisplay';\nimport Spacer from './controls/Spacer';\n\nexport { MediaPlayer };\nexport { MediaPlayerControls };\nexport { PlayPauseButton };\nexport { BackSkipButton };\nexport { ForwardSkipButton };\nexport { VolumeControl };\nexport { MuteButton };\nexport { RepeatButton };\nexport { ShuffleButton };\nexport { FullscreenButton };\nexport { MediaProgress };\nexport { MediaProgressDisplay };\nexport { Spacer };\n"],"sourceRoot":""}