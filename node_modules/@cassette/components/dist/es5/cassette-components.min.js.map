{"version":3,"sources":["webpack://cassetteComponents/webpack/universalModuleDefinition","webpack://cassetteComponents/webpack/bootstrap","webpack://cassetteComponents/external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://cassetteComponents/external {\"root\":\"cassetteCore\",\"commonjs\":\"@cassette/core\",\"commonjs2\":\"@cassette/core\",\"amd\":\"@cassette/core\"}","webpack://cassetteComponents/external {\"root\":\"ResizeObserver\",\"commonjs\":\"resize-observer-polyfill\",\"commonjs2\":\"resize-observer-polyfill\",\"amd\":\"resize-observer-polyfill\"}","webpack://cassetteComponents/./src/utils/requestAnimationFrameWhenPageVisible.js","webpack://cassetteComponents/./src/MaybeMarquee.js","webpack://cassetteComponents/./src/utils/getProgressStyle.js","webpack://cassetteComponents/./src/utils/getHandleStyle.js","webpack://cassetteComponents/./src/ProgressBarDisplay.js","webpack://cassetteComponents/./src/utils/observeProgressBarRect.js","webpack://cassetteComponents/./src/ProgressBar.js","webpack://cassetteComponents/./src/MediaProgressBar.js","webpack://cassetteComponents/./src/MediaProgressBarDisplay.js","webpack://cassetteComponents/./src/VideoDisplay.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","hiddenKey","visibilitychangeKey","document","hidden","msHidden","webkitHidden","utils_requestAnimationFrameWhenPageVisible","rafCallback","id","cancelled","addEventListener","requestAnimationFrame","once","cancelAnimationFrame","getNow","performance","now","Date","numToPx","num","MaybeMarquee_MaybeMarquee","_PureComponent","MaybeMarquee","props","_this","state","contentHeight","moveMarquee","_assertThisInitialized","handleResize","_inheritsLoose","_proto","componentDidMount","requestMoveMarqueeAnimationFrame","marqueeContainerElementWidth","getComputedStyle","marqueeContainerElement","width","contentStyle","movingContentContainerElement","movingContentContainerElementWidth","setState","height","resizeObserver","external_root_ResizeObserver_commonjs_resize_observer_polyfill_commonjs2_resize_observer_polyfill_amd_resize_observer_polyfill_default","a","observe","lastMovementTime","componentWillUnmount","cancelRaf","disconnect","_this$props","pixelsPerSecond","scrollDirection","dt","style","right","undefined","left","movementInPixels","newOffset","px","Number","slice","pxToNum","entries","_iterator","_isArray","Array","isArray","_i","iterator","_ref","length","next","done","entry","target","contentRect","render","_this2","_this$props2","content","attributes","_objectWithoutPropertiesLoose","external_root_React_commonjs_react_commonjs2_react_amd_react_default","createElement","_extends","ref","elem","_objectSpread","position","overflow","whiteSpace","external_root_React_commonjs_react_commonjs2_react_amd_react_","defaultProps","src_MaybeMarquee","utils_getProgressStyle","progress","progressDirection","progressAheadPercentage","top","bottom","willChange","utils_getHandleStyle","progressPercentage","transform","scrollTop","scrollLeft","mutationObserver","refreshTimeout","ProgressBarDisplay_ProgressBarDisplay","ProgressBarDisplay","apply","arguments","ProgressBarDisplay_inheritsLoose","progressClassName","progressStyle","handle","progressBarRef","ProgressBarDisplay_objectWithoutPropertiesLoose","ProgressBarDisplay_extends","touchAction","className","ProgressBarDisplay_objectSpread","src_ProgressBarDisplay","REFRESH_DELAY","transitionKeys","mutationObserverSupported","MutationObserver","observedElements","Set","cachedRects","Map","elementCallbacks","isSetup","refresh","clearTimeout","updatedElements","element","newRect","getRectForElement","rectsAreDifferent","set","push","_i2","setTimeout","updateScroll","body","onTransitionend","_ref2","_ref2$propertyName","propertyName","some","indexOf","domRect","getBoundingClientRect","pageTop","pageLeft","b","utils_observeProgressBarRect","callback","size","window","subtree","add","delete","removeEventListener","ProgressBar_ProgressBar","ProgressBar","adjusting","tempProgress","progressContainer","setProgressContainerRef","ProgressBar_assertThisInitialized","handleAdjustProgress","handleAdjustComplete","handleKeyDown","ProgressBar_inheritsLoose","unobserve","rect","cachedContainerRect","Math","random","toString","innerText","appendChild","noselectStyleElement","noselectClassName","componentDidUpdate","prevProps","prevState","_this$state","onAdjustProgress","toggleNoselect","parentNode","removeChild","on","classList","getProgressFromPageCoordinates","pageX","pageY","_this$cachedContainer","event","readonly","type","preventDefault","isTouch","targetTouches","item","progressInBounds","core_","onAdjustComplete","_this$state2","newProgress","keyCode","stopPropagation","nativeEvent","stopImmediatePropagation","ProgressBar_objectWithoutPropertiesLoose","_this$state3","ProgressBar_extends","tabIndex","role","onMouseDown","onTouchStart","onKeyDown","onKeyUp","onBlur","src_ProgressBar","MediaProgressBar_MediaProgressBar","MediaProgressBar","handleSeekPreview","MediaProgressBar_assertThisInitialized","handleSeekComplete","MediaProgressBar_inheritsLoose","onSeekPreview","duration","onSeekComplete","playlist","currentTime","seekPreviewTime","seekInProgress","_this$props$durationO","durationOverride","MediaProgressBar_objectWithoutPropertiesLoose","displayedProgress","MediaProgressBar_extends","src_MediaProgressBar","MediaProgressBarDisplay_MediaProgressBarDisplay","MediaProgressBarDisplay","MediaProgressBarDisplay_inheritsLoose","MediaProgressBarDisplay_objectWithoutPropertiesLoose","MediaProgressBarDisplay_extends","src_MediaProgressBarDisplay","VideoDisplay_InjectedCanvas","div","canvas","containerWidth","VideoDisplay_VideoDisplay","VideoDisplay","containerHeight","hostedVideo","videoFrameAtTimeLastVacated","VideoDisplay_inheritsLoose","_proto2","_this3","containerResizeObserver","handleContainerResize","containerElement","registerVideoHostElement","onHostOccupied","videoElement","maxHeight","forceUpdate","onHostVacated","videoFrame","videoWidth","videoHeight","getContext","drawImage","maxWidth","verticalAlign","renderVideoIntoHostElement","unregisterVideoHostElement","_this$containerElemen","offsetWidth","offsetHeight","_this4","aspectRatio","fullscreen","maintainAspectRatioInFullscreen","renderPlaceholderContent","VideoDisplay_objectWithoutPropertiesLoose","containerStyle","VideoDisplay_objectSpread","display","justifyContent","alignItems","background","warnedAboutStyleOverride","values","split","map","extractAspectRatio","VideoDisplay_extends","stealVideo","renderLastShownFrame","params","src_VideoDisplay"],"mappings":"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","file":"es5/cassette-components.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"@cassette/core\"), require(\"resize-observer-polyfill\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"@cassette/core\", \"resize-observer-polyfill\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cassetteComponents\"] = factory(require(\"react\"), require(\"@cassette/core\"), require(\"resize-observer-polyfill\"));\n\telse\n\t\troot[\"cassetteComponents\"] = factory(root[\"React\"], root[\"cassetteCore\"], root[\"ResizeObserver\"]);\n})((typeof self !== \"undefined\" ? self : this), function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","let hiddenKey;\nlet visibilitychangeKey;\nif (typeof document !== 'undefined') {\n  if (typeof document.hidden !== 'undefined') {\n    hiddenKey = 'hidden';\n    visibilitychangeKey = 'visibilitychange';\n  } else if (typeof document.msHidden !== 'undefined') {\n    hiddenKey = 'msHidden';\n    visibilitychangeKey = 'msvisibilitychange';\n  } else if (typeof document.webkitHidden !== 'undefined') {\n    hiddenKey = 'webkitHidden';\n    visibilitychangeKey = 'webkitvisibilitychange';\n  }\n}\n\nfunction requestAnimationFrameWhenPageVisible(rafCallback) {\n  // if we have access to the Page Visibility API we should\n  // check if the page is hidden and if so defer our requestAnimationFrame\n  if (hiddenKey && document[hiddenKey]) {\n    let cancelled = false;\n    let id;\n    document.addEventListener(\n      visibilitychangeKey,\n      () => {\n        if (!cancelled) {\n          id = requestAnimationFrame(rafCallback);\n        }\n      },\n      { once: true }\n    );\n    return () => {\n      cancelled = true;\n      cancelAnimationFrame(id);\n    };\n  } else {\n    const id = requestAnimationFrame(rafCallback);\n    return () => cancelAnimationFrame(id);\n  }\n}\n\nexport default requestAnimationFrameWhenPageVisible;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport ResizeObserver from 'resize-observer-polyfill';\n\nimport requestAnimationFrameWhenPageVisible from './utils/requestAnimationFrameWhenPageVisible';\n\nconst getNow =\n  typeof performance !== 'undefined' && performance.now\n    ? () => performance.now()\n    : () => Date.now();\n\nfunction pxToNum(px) {\n  return Number(px.slice(0, -2));\n}\n\nfunction numToPx(num) {\n  return `${num}px`;\n}\n\n/**\n * Used to make content scroll in marquee fashion, only when the container area is too small for all the content to be displayed at once\n */\nexport class MaybeMarquee extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      contentHeight: 0\n    };\n\n    this.moveMarquee = this.moveMarquee.bind(this);\n    this.handleResize = this.handleResize.bind(this);\n  }\n\n  componentDidMount() {\n    this.requestMoveMarqueeAnimationFrame();\n\n    this.marqueeContainerElementWidth = getComputedStyle(\n      this.marqueeContainerElement\n    ).width;\n    const contentStyle = getComputedStyle(this.movingContentContainerElement);\n    this.movingContentContainerElementWidth = contentStyle.width;\n    this.setState({\n      contentHeight: contentStyle.height\n    });\n\n    this.resizeObserver = new ResizeObserver(this.handleResize);\n    this.resizeObserver.observe(this.marqueeContainerElement);\n    this.resizeObserver.observe(this.movingContentContainerElement);\n\n    this.lastMovementTime = getNow();\n  }\n\n  componentWillUnmount() {\n    this.cancelRaf();\n    this.resizeObserver.disconnect();\n  }\n\n  requestMoveMarqueeAnimationFrame() {\n    this.cancelRaf = requestAnimationFrameWhenPageVisible(this.moveMarquee);\n  }\n\n  moveMarquee() {\n    const { pixelsPerSecond, scrollDirection } = this.props;\n\n    const now = getNow();\n    const dt = now - this.lastMovementTime;\n    this.lastMovementTime = now;\n\n    if (scrollDirection === 'left') {\n      this.movingContentContainerElement.style.right = undefined;\n    } else {\n      this.movingContentContainerElement.style.left = undefined;\n    }\n\n    if (\n      this.marqueeContainerElementWidth >=\n      this.movingContentContainerElementWidth\n    ) {\n      // no scrolling since all the content fits\n      this.movingContentContainerElement.style[scrollDirection] = 0;\n    } else {\n      const movementInPixels = (pixelsPerSecond * dt) / 1000;\n\n      const newOffset =\n        pxToNum(this.movingContentContainerElement.style[scrollDirection]) -\n        movementInPixels;\n      if (newOffset > 0 - this.movingContentContainerElementWidth) {\n        // we still have room to scroll.. keep going\n        this.movingContentContainerElement.style[scrollDirection] = numToPx(\n          newOffset\n        );\n      } else {\n        // the content is off the screen so we should wrap around\n        this.movingContentContainerElement.style[scrollDirection] = numToPx(\n          this.marqueeContainerElementWidth\n        );\n      }\n    }\n\n    this.requestMoveMarqueeAnimationFrame();\n  }\n\n  handleResize(entries) {\n    for (const entry of entries) {\n      if (entry.target === this.marqueeContainerElement) {\n        this.marqueeContainerElementWidth = entry.contentRect.width;\n      }\n      if (entry.target === this.movingContentContainerElement) {\n        this.movingContentContainerElementWidth = entry.contentRect.width;\n        this.setState({\n          contentHeight: entry.contentRect.height\n        });\n      }\n    }\n  }\n\n  render() {\n    const { content, ...attributes } = this.props;\n    delete attributes.pixelsPerSecond;\n    delete attributes.scrollDirection;\n    return (\n      <div\n        {...attributes}\n        ref={elem => (this.marqueeContainerElement = elem)}\n        style={{\n          position: 'relative',\n          overflow: 'hidden',\n          height: this.state.contentHeight,\n          ...(attributes.style || {})\n        }}\n      >\n        <div\n          ref={elem => (this.movingContentContainerElement = elem)}\n          style={{ position: 'absolute', whiteSpace: 'nowrap' }}\n        >\n          {content}\n        </div>\n      </div>\n    );\n  }\n}\n\nMaybeMarquee.propTypes = {\n  /** The child content to scroll in the marquee */\n  content: PropTypes.node.isRequired,\n  /** The distance in pixels the marquee should move each second */\n  pixelsPerSecond: PropTypes.number.isRequired,\n  /** The direction text should scroll in the marquee */\n  scrollDirection: PropTypes.oneOf(['left', 'right']).isRequired\n};\n\nMaybeMarquee.defaultProps = {\n  pixelsPerSecond: 30,\n  scrollDirection: 'left'\n};\n\nexport default MaybeMarquee;\n","function getProgressStyle(progress, progressDirection) {\n  const progressAheadPercentage = `${(1 - (progress || 0)) * 100}%`;\n  const style = {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  switch (progressDirection) {\n    case 'left':\n      style.left = progressAheadPercentage;\n      style.willChange = 'left';\n      break;\n    case 'right':\n      style.right = progressAheadPercentage;\n      style.willChange = 'right';\n      break;\n    case 'up':\n      style.top = progressAheadPercentage;\n      style.willChange = 'top';\n      break;\n    case 'down':\n      style.bottom = progressAheadPercentage;\n      style.willChange = 'bottom';\n      break;\n    default:\n      break;\n  }\n  return style;\n}\n\nexport default getProgressStyle;\n","function getHandleStyle(progress, progressDirection) {\n  const progressPercentage = `${(progress || 0) * 100}%`;\n  const style = {\n    position: 'absolute',\n    transform: 'translate(-50%, -50%)'\n  };\n  switch (progressDirection) {\n    case 'left':\n      style.top = '50%';\n      style.right = progressPercentage;\n      style.willChange = 'right';\n      style.transform = 'translate(50%, -50%)';\n      break;\n    case 'right':\n      style.top = '50%';\n      style.left = progressPercentage;\n      style.willChange = 'left';\n      style.transform = 'translate(-50%, -50%)';\n      break;\n    case 'up':\n      style.left = '50%';\n      style.bottom = progressPercentage;\n      style.willChange = 'bottom';\n      style.transform = 'translate(-50%, 50%)';\n      break;\n    case 'down':\n      style.left = '50%';\n      style.top = progressPercentage;\n      style.willChange = 'top';\n      style.transform = 'translate(-50%, -50%)';\n      break;\n    default:\n      break;\n  }\n  return style;\n}\n\nexport default getHandleStyle;\n","import React, { PureComponent, forwardRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport getProgressStyle from './utils/getProgressStyle';\nimport getHandleStyle from './utils/getHandleStyle';\n\n/**\n * A non-interactive version of [`ProgressBar`](#progressbar)\n */\nexport class ProgressBarDisplay extends PureComponent {\n  render() {\n    const {\n      progressClassName,\n      progressStyle,\n      progress,\n      progressDirection,\n      handle,\n      progressBarRef,\n      ...attributes\n    } = this.props;\n    return (\n      <div {...attributes} ref={progressBarRef}>\n        <div\n          style={{\n            position: 'relative',\n            width: '100%',\n            height: '100%',\n            touchAction: 'none'\n          }}\n        >\n          <div\n            className={progressClassName}\n            style={{\n              ...(progressStyle || {}),\n              ...getProgressStyle(progress, progressDirection)\n            }}\n          />\n          {handle && (\n            <div style={getHandleStyle(progress, progressDirection)}>\n              {handle}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nProgressBarDisplay.propTypes = {\n  /** A CSS classname for the inner div representing elapsed progress */\n  progressClassName: PropTypes.string,\n  /** A style object applied to the inner div representing elapsed progress */\n  progressStyle: PropTypes.object,\n  /** A number from 0 to 1 */\n  progress: PropTypes.number.isRequired,\n  /** Which direction does the progress bar move as it fills up? */\n  progressDirection: PropTypes.oneOf(['left', 'right', 'up', 'down'])\n    .isRequired,\n  /** A React element to accentuate the progress mark */\n  handle: PropTypes.element\n};\n\nexport default forwardRef((props, ref) => {\n  return <ProgressBarDisplay {...props} progressBarRef={ref} />;\n});\n","/*\nAdapted from resize-observer-polyfill which has this license:\nThe MIT License (MIT)\n\nCopyright (c) 2016 Denis Rul\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\n// Minimum delay before invoking the update of observers.\nconst REFRESH_DELAY = 20;\n\n// A list of substrings of CSS properties used to find transition events that\n// might affect dimensions of observed elements.\nconst transitionKeys = [\n  'top',\n  'right',\n  'bottom',\n  'left',\n  'width',\n  'height',\n  'size',\n  'weight'\n];\n\n// Check if MutationObserver is available.\nconst mutationObserverSupported = typeof MutationObserver !== 'undefined';\n\nconst observedElements = new Set();\nconst cachedRects = new Map();\nconst elementCallbacks = new Map();\n\nlet scrollTop;\nlet scrollLeft;\n\nlet isSetup = false;\nlet mutationObserver;\nfunction setup() {\n  if (isSetup) {\n    return;\n  }\n  document.addEventListener('transitionend', onTransitionend);\n  window.addEventListener('resize', refresh);\n  if (mutationObserverSupported) {\n    mutationObserver = new MutationObserver(refresh);\n    // we don't observe contents since the progress bar's contents\n    // are expected to conform to the shape of the container\n    mutationObserver.observe(document, { attributes: true, subtree: true });\n  } else {\n    document.addEventListener('DOMSubtreeModified', refresh);\n  }\n  document.addEventListener('scroll', updateScroll);\n  updateScroll();\n  isSetup = true;\n}\n\nfunction teardown() {\n  if (!isSetup) {\n    return;\n  }\n  document.removeEventListener('transitionend', onTransitionend);\n  window.removeEventListener('resize', refresh);\n  if (mutationObserverSupported) {\n    mutationObserver.disconnect();\n  } else {\n    document.removeEventListener('DOMSubtreeModified', refresh);\n  }\n  document.removeEventListener('scroll', updateScroll);\n  isSetup = false;\n}\n\nlet refreshTimeout;\nfunction refresh() {\n  clearTimeout(refreshTimeout);\n  const updatedElements = [];\n  for (const element of observedElements) {\n    const newRect = getRectForElement(element);\n    if (rectsAreDifferent(cachedRects.get(element), newRect)) {\n      cachedRects.set(element, newRect);\n      updatedElements.push(element);\n    }\n  }\n  for (const element of updatedElements) {\n    elementCallbacks.get(element)(cachedRects.get(element));\n  }\n  if (updatedElements.length) {\n    // check again in the future to make sure nothing wasn't about to change\n    refreshTimeout = setTimeout(refresh, REFRESH_DELAY);\n  }\n}\n\nfunction updateScroll() {\n  scrollTop = document.body.scrollTop;\n  scrollLeft = document.body.scrollLeft;\n}\n\nfunction onTransitionend({ propertyName = '' }) {\n  // Detect whether transition may affect dimensions of an element.\n  const isReflowProperty = transitionKeys.some(key => {\n    return propertyName.indexOf(key) !== -1;\n  });\n  if (isReflowProperty) {\n    refresh();\n  }\n}\n\nfunction getRectForElement(element) {\n  const domRect = element.getBoundingClientRect();\n  return {\n    pageTop: domRect.top + scrollTop,\n    pageLeft: domRect.left + scrollLeft,\n    width: domRect.width,\n    height: domRect.height\n  };\n}\n\nfunction rectsAreDifferent(a, b) {\n  return (\n    a.pageTop !== b.pageTop ||\n    a.pageLeft !== b.pageLeft ||\n    a.width !== b.width ||\n    a.height !== b.height\n  );\n}\n\nfunction observeProgressBarRect(element, callback) {\n  if (!observedElements.size) {\n    setup();\n  }\n  observedElements.add(element);\n  cachedRects.set(element, getRectForElement(element));\n  elementCallbacks.set(element, callback);\n  callback(cachedRects.get(element));\n  return () => {\n    observedElements.delete(element);\n    cachedRects.delete(element);\n    elementCallbacks.delete(element);\n    if (!observedElements.size) {\n      teardown();\n    }\n  };\n}\n\nexport default observeProgressBarRect;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { convertToNumberWithinIntervalBounds } from '@cassette/core';\n\nimport ProgressBarDisplay from './ProgressBarDisplay';\nimport observeProgressBarRect from './utils/observeProgressBarRect';\n\nconst noselectStyles = `\ncursor: default;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  -webkit-touch-callout: none;\n`;\n\nconst arrowLeft = 37;\nconst arrowRight = 39;\nconst arrowUp = 38;\nconst arrowDown = 40;\n\n/**\n * A vertical or horizontal progress bar element which can be manipulated by mouse or touch\n */\nexport class ProgressBar extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      adjusting: false,\n      // used while adjusting\n      tempProgress: null\n    };\n\n    this.progressContainer = null;\n\n    // bind methods fired on React events\n    this.setProgressContainerRef = this.setProgressContainerRef.bind(this);\n    this.handleAdjustProgress = this.handleAdjustProgress.bind(this);\n    this.handleAdjustComplete = this.handleAdjustComplete.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n\n  componentDidMount() {\n    // add event listeners bound outside the scope of our component\n    window.addEventListener('mousemove', this.handleAdjustProgress);\n    document.addEventListener('touchmove', this.handleAdjustProgress);\n    window.addEventListener('mouseup', this.handleAdjustComplete);\n    document.addEventListener('touchend', this.handleAdjustComplete);\n\n    this.unobserve = observeProgressBarRect(this.progressContainer, rect => {\n      this.cachedContainerRect = rect;\n    });\n\n    setTimeout(() => {\n      const style = document.createElement('style');\n      const className = `noselect_${Math.random()\n        .toString(16)\n        .slice(2, 7)}`;\n      style.innerText = `.${className}{${noselectStyles}}`;\n      document.body.appendChild(style);\n      this.noselectStyleElement = style;\n      this.noselectClassName = className;\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { adjusting, tempProgress } = this.state;\n    if (adjusting && tempProgress !== prevState.tempProgress) {\n      this.props.onAdjustProgress(tempProgress);\n    }\n  }\n\n  componentWillUnmount() {\n    // remove event listeners bound outside the scope of our component\n    window.removeEventListener('mousemove', this.handleAdjustProgress);\n    document.removeEventListener('touchmove', this.handleAdjustProgress);\n    window.removeEventListener('mouseup', this.handleAdjustComplete);\n    document.removeEventListener('touchend', this.handleAdjustComplete);\n\n    this.unobserve();\n\n    // remove noselect class in case a drag is in progress\n    this.toggleNoselect(false);\n    // noselectStyleElement might not exist if the component unmounts\n    // before the timeout callback is called.\n    if (this.noselectStyleElement) {\n      this.noselectStyleElement.parentNode.removeChild(\n        this.noselectStyleElement\n      );\n    }\n  }\n\n  setProgressContainerRef(ref) {\n    this.progressContainer = ref;\n  }\n\n  toggleNoselect(on) {\n    document.body.classList[on ? 'add' : 'remove'](this.noselectClassName);\n  }\n\n  getProgressFromPageCoordinates(pageX, pageY) {\n    const { pageLeft, pageTop, width, height } = this.cachedContainerRect;\n    switch (this.props.progressDirection) {\n      case 'down':\n        return (pageY - pageTop) / height;\n      case 'left':\n        return 1 - (pageX - pageLeft) / width;\n      case 'up':\n        return 1 - (pageY - pageTop) / height;\n      case 'right':\n      default:\n        return (pageX - pageLeft) / width;\n    }\n  }\n\n  handleAdjustProgress(event) {\n    if (this.props.readonly) {\n      return;\n    }\n    // make sure we don't select stuff in the background\n    if (event.type === 'mousedown' || event.type === 'touchstart') {\n      this.toggleNoselect(true);\n    } else if (!this.state.adjusting) {\n      return;\n    }\n    /* we don't want mouse handlers to receive the event\n     * after touch handlers, so prevent default\n     */\n    event.preventDefault();\n    const isTouch = event.type.slice(0, 5) === 'touch';\n    const pageX = isTouch ? event.targetTouches.item(0).pageX : event.pageX;\n    const pageY = isTouch ? event.targetTouches.item(0).pageY : event.pageY;\n    const progress = this.getProgressFromPageCoordinates(pageX, pageY);\n    const progressInBounds = convertToNumberWithinIntervalBounds(\n      progress,\n      0,\n      1\n    );\n    this.setState({\n      adjusting: true,\n      tempProgress: progressInBounds\n    });\n  }\n\n  handleAdjustComplete(event) {\n    const { onAdjustComplete } = this.props;\n    /* this function is activated when the user lets go of\n     * the mouse, so if noselect was applied\n     * to the document body, get rid of it.\n     */\n    this.toggleNoselect(false);\n    const { adjusting, tempProgress } = this.state;\n    if (!adjusting) {\n      return;\n    }\n    /* we don't want mouse handlers to receive the event\n     * after touch handlers, so prevent default\n     */\n    event.preventDefault();\n    this.setState({\n      adjusting: false,\n      tempProgress: null\n    });\n    onAdjustComplete(tempProgress);\n  }\n\n  handleKeyDown(event) {\n    if (this.props.readonly) {\n      return;\n    }\n    let newProgress = this.props.progress;\n    switch (event.keyCode) {\n      case arrowLeft:\n      case arrowDown:\n        newProgress -= 0.01;\n        break;\n      case arrowUp:\n      case arrowRight:\n        newProgress += 0.01;\n        break;\n      default:\n        return;\n    }\n    event.preventDefault();\n    event.stopPropagation();\n    event.nativeEvent.stopImmediatePropagation();\n    this.setState({\n      adjusting: true,\n      tempProgress: convertToNumberWithinIntervalBounds(newProgress, 0, 1)\n    });\n  }\n\n  render() {\n    const {\n      progressClassName,\n      progressStyle,\n      progress,\n      progressDirection,\n      handle,\n      ...attributes\n    } = this.props;\n    const { adjusting, tempProgress } = this.state;\n    delete attributes.readonly;\n    delete attributes.onAdjustProgress;\n    delete attributes.onAdjustComplete;\n    return (\n      <ProgressBarDisplay\n        tabIndex={0}\n        {...attributes}\n        role=\"slider\"\n        ref={this.setProgressContainerRef}\n        progressClassName={progressClassName}\n        progressStyle={progressStyle}\n        progress={adjusting ? tempProgress : progress}\n        progressDirection={progressDirection}\n        handle={handle}\n        onMouseDown={this.handleAdjustProgress}\n        onTouchStart={this.handleAdjustProgress}\n        onKeyDown={this.handleKeyDown}\n        onKeyUp={this.handleAdjustComplete}\n        onBlur={this.handleAdjustComplete}\n      />\n    );\n  }\n}\n\nProgressBar.propTypes = {\n  /** The same as the [`ProgressBarDisplay`](#progressbardisplay) prop */\n  progressClassName: PropTypes.string,\n  /** The same as the [`ProgressBarDisplay`](#progressbardisplay) prop */\n  progressStyle: PropTypes.object,\n  /** The same as the [`ProgressBarDisplay`](#progressbardisplay) prop */\n  progress: PropTypes.number.isRequired,\n  /** The same as the [`ProgressBarDisplay`](#progressbardisplay) prop */\n  progressDirection: PropTypes.oneOf(['left', 'right', 'up', 'down'])\n    .isRequired,\n  /**\n   * The same as the [`ProgressBarDisplay`](#progressbardisplay) prop\n   * (although in this case the handle can be dragged by the user to\n   * readjust the progress value)\n   */\n  handle: PropTypes.element,\n  /** If set to true, the progress bar is non-interactive */\n  readonly: PropTypes.bool.isRequired,\n  /**\n   * This function, called repeatedly white a bar drag is in-progress, receives\n   * an updated 0-1 progress value and is expected to appropriately update the\n   * value sent to the `progress` prop\n   */\n  onAdjustProgress: PropTypes.func.isRequired,\n  /**\n   * This function, called when a bar drag has completed, receives the final\n   * updated 0-1 progress value\n   */\n  onAdjustComplete: PropTypes.func.isRequired\n};\n\nProgressBar.defaultProps = {\n  readonly: false\n};\n\nexport default ProgressBar;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  playerContextFilter,\n  PlayerPropTypes,\n  isPlaylistValid\n} from '@cassette/core';\n\nimport ProgressBar from './ProgressBar';\n\n/**\n * An enhanced [`ProgressBar`](#progressbar) which uses the surrounding [`playerContext`](#playercontext) to set its own props for `progress`, `readonly`, `onAdjustProgress` and `onSeekComplete`, and accepts all the other props available for `ProgressBar`\n */\nexport class MediaProgressBar extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    // bind methods fired on React events\n    this.handleSeekPreview = this.handleSeekPreview.bind(this);\n    this.handleSeekComplete = this.handleSeekComplete.bind(this);\n  }\n\n  handleSeekPreview(progress) {\n    this.props.onSeekPreview(progress * this.props.duration);\n  }\n\n  handleSeekComplete(progress) {\n    this.props.onSeekComplete(progress * this.props.duration);\n  }\n\n  render() {\n    const {\n      playlist,\n      currentTime,\n      seekPreviewTime,\n      seekInProgress,\n      duration,\n      durationOverride = duration,\n      ...attributes\n    } = this.props;\n    delete attributes.onSeekPreview;\n    delete attributes.onSeekComplete;\n    const time = seekInProgress ? seekPreviewTime : currentTime;\n    const displayedProgress = durationOverride ? time / durationOverride : 0;\n    return (\n      <ProgressBar\n        {...attributes}\n        progress={displayedProgress}\n        readonly={!isPlaylistValid(playlist)}\n        onAdjustProgress={this.handleSeekPreview}\n        onAdjustComplete={this.handleSeekComplete}\n      />\n    );\n  }\n}\n\nMediaProgressBar.propTypes = {\n  playlist: PropTypes.arrayOf(PlayerPropTypes.track.isRequired).isRequired,\n  currentTime: PropTypes.number.isRequired,\n  seekPreviewTime: PropTypes.number.isRequired,\n  seekInProgress: PropTypes.bool.isRequired,\n  duration: PropTypes.number.isRequired,\n  onSeekPreview: PropTypes.func.isRequired,\n  onSeekComplete: PropTypes.func.isRequired,\n  /**\n   * The same as the `durationOverride` prop for\n   * [`MediaProgressBarDisplay`](#mediaprogressbardisplay)\n   */\n  durationOverride: PropTypes.number\n};\n\nexport default playerContextFilter(MediaProgressBar, [\n  'playlist',\n  'currentTime',\n  'seekPreviewTime',\n  'seekInProgress',\n  'duration',\n  'onSeekPreview',\n  'onSeekComplete'\n]);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { playerContextFilter } from '@cassette/core';\n\nimport ProgressBarDisplay from './ProgressBarDisplay';\n\n/**\n * An enhanced [`ProgressBarDisplay`](#progressbardisplay) which uses the surrounding [`playerContext`](#playercontext) to set its own `progress` prop, and accepts all the other props available for `ProgressBarDisplay`\n */\nexport class MediaProgressBarDisplay extends PureComponent {\n  render() {\n    const {\n      currentTime,\n      duration,\n      durationOverride = duration,\n      ...attributes\n    } = this.props;\n    const progress = durationOverride ? currentTime / durationOverride : 0;\n    return <ProgressBarDisplay {...attributes} progress={progress} />;\n  }\n}\n\nMediaProgressBarDisplay.propTypes = {\n  currentTime: PropTypes.number.isRequired,\n  duration: PropTypes.number.isRequired,\n  /**\n   * Sometimes, for example in the case of some media live streams, the\n   * duration property from the media element may not match what we want\n   * to use in the UI for a progress bar. `durationOverride` can be set\n   * if some external data on the media duration is available.\n   */\n  durationOverride: PropTypes.number\n};\n\nexport default playerContextFilter(MediaProgressBarDisplay, [\n  'currentTime',\n  'duration'\n]);\n","import React, { PureComponent, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ResizeObserver from 'resize-observer-polyfill';\n\nimport { playerContextFilter, logWarning } from '@cassette/core';\n\n// 'x:y' -> x / y\nfunction extractAspectRatio(aspectRatio) {\n  const values = aspectRatio.split(':').map(Number);\n  return values[0] / values[1];\n}\n\nconst defaultBgColor = '#000';\n\nclass InjectedCanvas extends Component {\n  componentDidMount() {\n    this.div.appendChild(this.props.canvas);\n  }\n\n  render() {\n    return (\n      <div\n        style={{ width: this.props.containerWidth }}\n        ref={elem => (this.div = elem)}\n      />\n    );\n  }\n}\n\nInjectedCanvas.propTypes = {\n  containerWidth: PropTypes.number,\n  canvas: PropTypes.instanceOf(\n    typeof HTMLCanvasElement === 'undefined' ? Object : HTMLCanvasElement\n  )\n};\n\n/**\n * A container for the video content from the surrounding [`playerContext`](#playercontext)\n */\nexport class VideoDisplay extends PureComponent {\n  constructor(props) {\n    super(props);\n    // using instance properties instead of React state to make sure\n    // we can avoid annoying race conditions\n    this.containerWidth = 0;\n    this.containerHeight = 0;\n    this.hostedVideo = null;\n    this.videoFrameAtTimeLastVacated = null;\n  }\n\n  componentDidMount() {\n    this.containerResizeObserver = new ResizeObserver(\n      this.handleContainerResize.bind(this)\n    );\n    this.containerResizeObserver.observe(this.containerElement);\n\n    this.props.registerVideoHostElement(this.containerElement, {\n      onHostOccupied: videoElement => {\n        videoElement.style.width = `${this.containerWidth}px`;\n        videoElement.style.maxHeight = `${this.containerHeight}px`;\n        this.hostedVideo = videoElement;\n        this.forceUpdate();\n      },\n      onHostVacated: videoElement => {\n        // TODO: take into account container size and pixel density\n        // when sizing videoFrame canvas element?\n        const videoFrame = document.createElement('canvas');\n        videoFrame.width = videoElement.videoWidth;\n        videoFrame.height = videoElement.videoHeight;\n        videoFrame\n          .getContext('2d')\n          .drawImage(videoElement, 0, 0, videoFrame.width, videoFrame.height);\n        videoFrame.style.maxWidth = '100%';\n        // 'vertical-align: middle' avoids unneeded 3px buffer below canvas\n        videoFrame.style.verticalAlign = 'middle';\n        this.videoFrameAtTimeLastVacated = videoFrame;\n        this.hostedVideo = null;\n        this.forceUpdate();\n      }\n    });\n    this.props.renderVideoIntoHostElement(this.containerElement);\n  }\n\n  componentWillUnmount() {\n    this.containerResizeObserver.disconnect();\n    this.props.unregisterVideoHostElement(this.containerElement);\n  }\n\n  handleContainerResize() {\n    const { offsetWidth, offsetHeight } = this.containerElement;\n    if (\n      offsetWidth === this.containerWidth &&\n      offsetHeight === this.containerHeight\n    ) {\n      return;\n    }\n\n    if (this.hostedVideo) {\n      this.hostedVideo.style.width = `${offsetWidth}px`;\n      this.hostedVideo.style.maxHeight = `${offsetHeight}px`;\n    }\n    this.containerWidth = offsetWidth;\n    this.containerHeight = offsetHeight;\n    this.forceUpdate();\n  }\n\n  render() {\n    const {\n      aspectRatio,\n      fullscreen,\n      maintainAspectRatioInFullscreen,\n      renderPlaceholderContent,\n      renderVideoIntoHostElement,\n      ...attributes\n    } = this.props;\n    delete attributes.registerVideoHostElement;\n    delete attributes.unregisterVideoHostElement;\n\n    const containerStyle = {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      background: defaultBgColor,\n      ...(attributes.style || {})\n    };\n    if (\n      aspectRatio &&\n      this.containerWidth &&\n      (!fullscreen || maintainAspectRatioInFullscreen)\n    ) {\n      if (containerStyle.height && !this.warnedAboutStyleOverride) {\n        logWarning(\n          'VideoDisplay cannot use style.height prop because it is ' +\n            'overridden by aspectRatio.'\n        );\n        this.warnedAboutStyleOverride = true;\n      }\n      // h = w/(x/y)  -->  h*(x/y) = w  -->  x/y = w/h\n      containerStyle.height =\n        this.containerWidth / extractAspectRatio(aspectRatio);\n    }\n\n    return (\n      <div\n        {...attributes}\n        style={containerStyle}\n        ref={elem => (this.containerElement = elem)}\n      >\n        {this.hostedVideo\n          ? null\n          : renderPlaceholderContent({\n              containerWidth: this.containerWidth,\n              containerHeight: this.containerHeight,\n              stealVideo: () =>\n                renderVideoIntoHostElement(this.containerElement),\n              renderLastShownFrame: () =>\n                this.videoFrameAtTimeLastVacated && (\n                  <InjectedCanvas\n                    canvas={this.videoFrameAtTimeLastVacated}\n                    containerWidth={this.containerWidth}\n                  />\n                )\n            })}\n      </div>\n    );\n  }\n}\n\nfunction aspectRatioString(props, propName) {\n  const prop = props[propName];\n  if (prop === undefined) {\n    return;\n  }\n  if (\n    typeof prop !== 'string' ||\n    prop.split(':').length !== 2 ||\n    prop.split(':').some(isNaN)\n  ) {\n    return new Error(\n      `The ${propName} prop should be a string of the form 'x:y'. Example: 16:9`\n    );\n  }\n}\n\nVideoDisplay.propTypes = {\n  registerVideoHostElement: PropTypes.func.isRequired,\n  renderVideoIntoHostElement: PropTypes.func.isRequired,\n  unregisterVideoHostElement: PropTypes.func.isRequired,\n  fullscreen: PropTypes.bool,\n  /** A string representation of the display's fixed aspect ratio */\n  aspectRatio: aspectRatioString,\n  /**\n   * In fullscreen we normally want to use the aspect ratio of the device\n   * display, but if you don't like this behavior, you can override it.\n   */\n  maintainAspectRatioInFullscreen: PropTypes.bool.isRequired,\n  /**\n   * A function which should return a React element to display as a placeholder\n   * when the display is unused (i.e. a different `VideoDisplay` elsewhere on\n   * the screen currently is displaying the video content). This function is\n   * passed a `params` object with three properties: `containerWidth` (a\n   * number), `containerHeight` (a number) and `renderLastShownFrame` (a\n   * function which will returning a React element showing a canvas snapshot\n   * of the last frame that was shown before the video was moved out of this\n   * display - platforms like Facebook render frames like this. only works for\n   * actual video content, not audio poster images.)\n   */\n  renderPlaceholderContent: PropTypes.func.isRequired\n};\n\nVideoDisplay.defaultProps = {\n  aspectRatio: '16:9',\n  maintainAspectRatioInFullscreen: false,\n  renderPlaceholderContent(params) {\n    const { containerWidth, containerHeight, renderLastShownFrame } = params;\n    return (\n      <div\n        style={{\n          width: containerWidth,\n          height: containerHeight,\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center'\n        }}\n      >\n        {renderLastShownFrame()}\n      </div>\n    );\n  }\n};\n\nexport default playerContextFilter(VideoDisplay, [\n  'registerVideoHostElement',\n  'renderVideoIntoHostElement',\n  'unregisterVideoHostElement',\n  'fullscreen'\n]);\n"],"sourceRoot":""}